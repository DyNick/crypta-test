function myMap(){myCenter=new google.maps.LatLng(41.878114,-87.629798);var t={center:myCenter,zoom:12,scrollwheel:!1,draggable:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},e=new google.maps.Map(document.getElementById("googleMap"),t);new google.maps.Marker({position:myCenter}).setMap(e)}$(window).scroll(function(){var t=$(".header");$(window).scrollTop()>=100?t.addClass("header--active"):t.removeClass("header--active")}),$(document).ready(function(){$(".reviews_slider").owlCarousel({loop:!0,margin:0,nav:!0,responsive:{0:{items:1},600:{items:1},1e3:{items:1}}})}),$(window).scroll(function(){var t=$(this).scrollTop();$(".container--study__title ").css({transform:"translate(0%, "+-t/50+"%"}),$("#cloud-study").css({transform:"translate(0%, "+t/30+"%"}),$("#birds-study").css({transform:"translate(0%, "+-t/40+"%"}),$(".image-clouds-expert-section").css({transform:"translate(0%, "+t/30+"%"}),$(".clouds-image-programme").css({transform:"translate(0%, "+-t/60+"%"})}),$(function(){$(".youtube").each(function(){$(this).css("background-image","url(http://i.ytimg.com/vi/"+this.id+"/sddefault.jpg)"),$(this).append($("<div/>",{class:"play"})),$(document).delegate("#"+this.id,"click",function(){var t="https://www.youtube.com/embed/"+this.id+"?autoplay=1&autohide=1&showinfo=0&list=PLI2GnEQsXmxtmknxfc8wpMWCsX5jFtrhR";$(this).data("params")&&(t+="&"+$(this).data("params"));var e=$("<iframe/>",{frameborder:"0",src:t,width:$(this).width(),height:$(this).height()});$(this).replaceWith(e)})})}),function(t,e,i,s){function n(e,i){this.settings=null,this.options=t.extend({},n.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(n.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(n.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}n.Defaults={items:3,loop:!1,center:!1,rewind:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},n.Width={Default:"default",Inner:"inner",Outer:"outer"},n.Type={Event:"event",State:"state"},n.Plugins={},n.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,s=this.settings.rtl,n={width:"auto","margin-left":s?e:"","margin-right":s?"":e};!i&&this.$stage.children().css(n),t.css=n}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,s=this._items.length,n=!this.settings.autoWidth,o=[];for(t.items={merge:!1,width:e};s--;)i=this._mergers[s],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,o[s]=n?e*i:this._items[s].width();this._widths=o}},{filter:["items","settings"],run:function(){var e=[],i=this._items,s=this.settings,n=Math.max(2*s.items,4),o=2*Math.ceil(i.length/2),r=s.loop&&i.length?s.rewind?n:Math.max(n,o):0,a="",h="";for(r/=2;r--;)e.push(this.normalize(e.length/2,!0)),a+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),h=i[e[e.length-1]][0].outerHTML+h;this._clones=e,t(a).addClass("cloned").appendTo(this.$stage),t(h).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,s=0,n=0,o=[];++i<e;)s=o[i-1]||0,n=this._widths[this.relative(i)]+this.settings.margin,o.push(s+n*t);this._coordinates=o}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,s=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],s.eq(e).css(t.css);else i&&(t.css.width=t.items.width,s.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,s,n=this.settings.rtl?1:-1,o=2*this.settings.stagePadding,r=this.coordinates(this.current())+o,a=r+this.width()*n,h=[];for(i=0,s=this._coordinates.length;i<s;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+o*n,(this.op(t,"<=",r)&&this.op(t,">",a)||this.op(e,"<",r)&&this.op(e,">",a))&&h.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+h.join("), :eq(")+")").addClass("active"),this.settings.center&&(this.$stage.children(".center").removeClass("center"),this.$stage.children().eq(this.current()).addClass("center"))}}],n.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var e,i,s;e=this.$element.find("img"),i=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,s=this.$element.children(i).width(),e.length&&s<=0&&this.preloadAutoWidthImages(e)}this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+' class="'+this.settings.stageClass+'"/>').wrap('<div class="'+this.settings.stageOuterClass+'"/>'),this.$element.append(this.$stage.parent()),this.replace(this.$element.children().not(this.$stage.parent())),this.$element.is(":visible")?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},n.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,s=-1,n=null;i?(t.each(i,function(t){t<=e&&t>s&&(s=Number(t))}),"function"==typeof(n=t.extend({},this.options,i[s])).stagePadding&&(n.stagePadding=n.stagePadding()),delete n.responsive,n.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+s))):n=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:n}}),this._breakpoint=s,this.settings=n,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},n.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},n.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},n.prototype.update=function(){for(var e=0,i=this._pipe.length,s=t.proxy(function(t){return this[t]},this._invalidated),n={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,s).length>0)&&this._pipe[e].run(n),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},n.prototype.width=function(t){switch(t=t||n.Width.Default){case n.Width.Inner:case n.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},n.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},n.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},n.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.$element.is(":visible")&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},n.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},n.prototype.onDragStart=function(e){var s=null;3!==e.which&&(t.support.transform?s={x:(s=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","))[16===s.length?12:4],y:s[16===s.length?13:5]}:(s=this.$stage.position(),s={x:this.settings.rtl?s.left+this.$stage.width()-this.width()+this.settings.margin:s.left,y:s.top}),this.is("animating")&&(t.support.transform?this.animate(s.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=s,this._drag.stage.current=s,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var s=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(s.x)<Math.abs(s.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},n.prototype.onDragMove=function(t){var e=null,i=null,s=null,n=this.difference(this._drag.pointer,this.pointer(t)),o=this.difference(this._drag.stage.start,n);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,o.x=((o.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),s=this.settings.pullDrag?-1*n.x/5:0,o.x=Math.max(Math.min(o.x,e+s),i+s)),this._drag.stage.current=o,this.animate(o.x))},n.prototype.onDragEnd=function(e){var s=this.difference(this._drag.pointer,this.pointer(e)),n=this._drag.stage.current,o=s.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==s.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(n.x,0!==s.x?o:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=o,(Math.abs(s.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},n.prototype.closest=function(e,i){var s=-1,n=this.width(),o=this.coordinates();return this.settings.freeDrag||t.each(o,t.proxy(function(t,r){return"left"===i&&e>r-30&&e<r+30?s=t:"right"===i&&e>r-n-30&&e<r-n+30?s=t+1:this.op(e,"<",r)&&this.op(e,">",o[t+1]||r-n)&&(s="left"===i?t+1:t),-1===s},this)),this.settings.loop||(this.op(e,">",o[this.minimum()])?s=e=this.minimum():this.op(e,"<",o[this.maximum()])&&(s=e=this.maximum())),s},n.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},n.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},n.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},n.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},n.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},n.prototype.normalize=function(t,e){var i=this._items.length,s=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+s)&&(t=((t-s/2)%i+i)%i+s/2),t},n.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},n.prototype.maximum=function(t){var e,i,s,n=this.settings,o=this._coordinates.length;if(n.loop)o=this._clones.length/2+this._items.length-1;else if(n.autoWidth||n.merge){for(e=this._items.length,i=this._items[--e].width(),s=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>s););o=e+1}else o=n.center?this._items.length-1:this._items.length-n.items;return t&&(o-=this._clones.length/2),Math.max(o,0)},n.prototype.minimum=function(t){return t?0:this._clones.length/2},n.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},n.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},n.prototype.clones=function(e){var i=this._clones.length/2,s=i+this._items.length,n=function(t){return t%2==0?s+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return n(e)}):t.map(this._clones,function(t,i){return t===e?n(i):null})},n.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},n.prototype.coordinates=function(e){var i,s=1,n=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(s=-1,n=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[n]||0))/2*s):i=this._coordinates[n]||0,i=Math.ceil(i))},n.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},n.prototype.to=function(t,e){var i=this.current(),s=null,n=t-this.relative(i),o=(n>0)-(n<0),r=this._items.length,a=this.minimum(),h=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(n)>r/2&&(n+=-1*o*r),(s=(((t=i+n)-a)%r+r)%r+a)!==t&&s-n<=h&&s-n>0&&(i=s-n,t=s,this.reset(i))):t=this.settings.rewind?(t%(h+=1)+h)%h:Math.max(a,Math.min(h,t)),this.speed(this.duration(i,t,e)),this.current(t),this.$element.is(":visible")&&this.update()},n.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},n.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},n.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},n.prototype.viewport=function(){var s;return this.options.responsiveBaseElement!==e?s=t(this.options.responsiveBaseElement).width():e.innerWidth?s=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?s=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),s},n.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},n.prototype.add=function(e,i){var s=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[s]&&this.reset(this._items[s].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},n.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},n.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},n.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var s in this._plugins)this._plugins[s].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},n.prototype.op=function(t,e,i){var s=this.settings.rtl;switch(e){case"<":return s?t>i:t<i;case">":return s?t<i:t>i;case">=":return s?t<=i:t>=i;case"<=":return s?t>=i:t<=i}},n.prototype.on=function(t,e,i,s){t.addEventListener?t.addEventListener(e,i,s):t.attachEvent&&t.attachEvent("on"+e,i)},n.prototype.off=function(t,e,i,s){t.removeEventListener?t.removeEventListener(e,i,s):t.detachEvent&&t.detachEvent("on"+e,i)},n.prototype.trigger=function(e,i,s,o,r){var a={item:{count:this._items.length,index:this.current()}},h=t.camelCase(t.grep(["on",e,s],function(t){return t}).join("-").toLowerCase()),l=t.Event([e,"owl",s||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},a,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(l)}),this.register({type:n.Type.Event,name:e}),this.$element.trigger(l),this.settings&&"function"==typeof this.settings[h]&&this.settings[h].call(this,l)),l},n.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},n.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},n.prototype.register=function(e){if(e.type===n.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===n.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,s){return t.inArray(i,this._states.tags[e.name])===s},this)))},n.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},n.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},n.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,(t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t).pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},n.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},n.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var s=t(this),o=s.data("owl.carousel");o||(o=new n(this,"object"==typeof e&&e),s.data("owl.carousel",o),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){o.register({type:n.Type.Event,name:i}),o.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),o[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},o))})),"string"==typeof e&&"_"!==e.charAt(0)&&o[e].apply(o,i)})},t.fn.owlCarousel.Constructor=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoRefresh:!0,autoRefreshInterval:500},n.prototype.watch=function(){this._interval||(this._visible=this._core.$element.is(":visible"),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},n.prototype.refresh=function(){this._core.$element.is(":visible")!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},n.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type))for(var i=this._core.settings,s=i.center&&Math.ceil(i.items/2)||i.items,n=i.center&&-1*s||0,o=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+n,r=this._core.clones().length,a=t.proxy(function(t,e){this.load(e)},this);n++<s;)this.load(r/2+this._core.relative(o)),r&&t.each(this._core.clones(this._core.relative(o)),a),o++},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={lazyLoad:!1},n.prototype.load=function(i){var s=this._core.$stage.children().eq(i),n=s&&s.find(".owl-lazy");!n||t.inArray(s.get(0),this._loaded)>-1||(n.each(t.proxy(function(i,s){var n,o=t(s),r=e.devicePixelRatio>1&&o.attr("data-src-retina")||o.attr("data-src");this._core.trigger("load",{element:o,url:r},"lazy"),o.is("img")?o.one("load.owl.lazy",t.proxy(function(){o.css("opacity",1),this._core.trigger("loaded",{element:o,url:r},"lazy")},this)).attr("src",r):((n=new Image).onload=t.proxy(function(){o.css({"background-image":'url("'+r+'")',opacity:"1"}),this._core.trigger("loaded",{element:o,url:r},"lazy")},this),n.src=r)},this)),this._loaded.push(s.get(0)))},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"==t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers)};n.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},n.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,s=this._core.$stage.children().toArray().slice(e,i),n=[],o=0;t.each(s,function(e,i){n.push(t(i).height())}),o=Math.max.apply(null,n),this._core.$stage.parent().height(o).addClass(this._core.settings.autoHeightClass)},n.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};n.Defaults={video:!1,videoHeight:!1,videoWidth:!1},n.prototype.fetch=function(t,e){var i=t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube",s=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),n=t.attr("data-width")||this._core.settings.videoWidth,o=t.attr("data-height")||this._core.settings.videoHeight,r=t.attr("href");if(!r)throw new Error("Missing video URL.");if((s=r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")>-1)i="youtube";else if(s[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(s[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}s=s[6],this._videos[r]={type:i,id:s,width:n,height:o},e.attr("data-video",r),this.thumbnail(t,this._videos[r])},n.prototype.thumbnail=function(e,i){var s,n,o,r=i.width&&i.height?'style="width:'+i.width+"px;height:"+i.height+'px;"':"",a=e.find("img"),h="src",l="",c=this._core.settings,d=function(t){n='<div class="owl-video-play-icon"></div>',s=c.lazyLoad?'<div class="owl-video-tn '+l+'" '+h+'="'+t+'"></div>':'<div class="owl-video-tn" style="opacity:1;background-image:url('+t+')"></div>',e.after(s),e.after(n)};if(e.wrap('<div class="owl-video-wrapper"'+r+"></div>"),this._core.settings.lazyLoad&&(h="data-src",l="owl-lazy"),a.length)return d(a.attr(h)),a.remove(),!1;"youtube"===i.type?(o="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",d(o)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t[0].thumbnail_large,d(o)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){o=t.framegrab_url,d(o)}})},n.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},n.prototype.play=function(e){var i,s=t(e.target).closest("."+this._core.settings.itemClass),n=this._videos[s.attr("data-video")],o=n.width||"100%",r=n.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),s=this._core.items(this._core.relative(s.index())),this._core.reset(s.index()),"youtube"===n.type?i='<iframe width="'+o+'" height="'+r+'" src="//www.youtube.com/embed/'+n.id+"?autoplay=1&rel=0&v="+n.id+'" frameborder="0" allowfullscreen></iframe>':"vimeo"===n.type?i='<iframe src="//player.vimeo.com/video/'+n.id+'?autoplay=1" width="'+o+'" height="'+r+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>':"vzaar"===n.type&&(i='<iframe frameborder="0"height="'+r+'"width="'+o+'" allowfullscreen mozallowfullscreen webkitAllowFullScreen src="//view.vzaar.com/'+n.id+'/player?autoplay=true"></iframe>'),t('<div class="owl-video-frame">'+i+"</div>").insertAfter(s.find(".owl-video")),this._playing=s.addClass("owl-video-playing"))},n.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},n.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this.core=e,this.core.options=t.extend({},n.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};n.Defaults={animateOut:!1,animateIn:!1},n.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),s=this.core.$stage.children().eq(this.previous),n=this.core.$stage.children().eq(this.next),o=this.core.settings.animateIn,r=this.core.settings.animateOut;this.core.current()!==this.previous&&(r&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),s.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(r)),o&&n.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(o))}},n.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},n.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){var n=function(e){this._core=e,this._timeout=null,this._paused=!1,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._core.settings.autoplay&&this._setAutoPlayInterval()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},n.Defaults,this._core.options)};n.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},n.prototype.play=function(t,e){this._paused=!1,this._core.is("rotating")||(this._core.enter("rotating"),this._setAutoPlayInterval())},n.prototype._getNextTimeout=function(s,n){return this._timeout&&e.clearTimeout(this._timeout),e.setTimeout(t.proxy(function(){this._paused||this._core.is("busy")||this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},this),s||this._core.settings.autoplayTimeout)},n.prototype._setAutoPlayInterval=function(){this._timeout=this._getNextTimeout()},n.prototype.stop=function(){this._core.is("rotating")&&(e.clearTimeout(this._timeout),this._core.leave("rotating"))},n.prototype.pause=function(){this._core.is("rotating")&&(this._paused=!0)},n.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers)};n.Defaults={nav:!1,navText:["",""],navSpeed:!1,navElement:"div",navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},n.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t("<div>").addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","div",t.proxy(function(e){var s=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(s,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},n.prototype.destroy=function(){var t,e,i,s;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)this._controls[e].remove();for(s in this.overides)this._core[s]=this._overrides[s];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},n.prototype.update=function(){var t,e,i=this._core.clones().length/2,s=i+this._core.items().length,n=this._core.maximum(!0),o=this._core.settings,r=o.center||o.autoWidth||o.dotsData?1:o.dotsEach||o.items;if("page"!==o.slideBy&&(o.slideBy=Math.min(o.slideBy,o.items)),o.dots||"page"==o.slideBy)for(this._pages=[],t=i,e=0,0;t<s;t++){if(e>=r||0===e){if(this._pages.push({start:Math.min(n,t-i),end:t-i+r-1}),Math.min(n,t-i)===n)break;e=0,0}e+=this._core.mergers(this._core.relative(t))}},n.prototype.draw=function(){var e,i=this._core.settings,s=this._core.items().length<=i.items,n=this._core.relative(this._core.current()),o=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||s),i.nav&&(this._controls.$previous.toggleClass("disabled",!o&&n<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!o&&n>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||s),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},n.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},n.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},n.prototype.getPosition=function(e){var i,s,n=this._core.settings;return"page"==n.slideBy?(i=t.inArray(this.current(),this._pages),s=this._pages.length,e?++i:--i,i=this._pages[(i%s+s)%s].start):(i=this._core.relative(this._core.current()),s=this._core.items().length,e?i+=n.slideBy:i-=n.slideBy),i},n.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},n.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},n.prototype.to=function(e,i,s){var n;!s&&this._pages.length?(n=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%n+n)%n].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){"use strict";var n=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var s=this._core.items(this._core.relative(this._core.current())),n=t.map(this._hashes,function(t,e){return t===s?e:null}).join();if(!n||e.location.hash.slice(1)===n)return;e.location.hash=n}},this)},this._core.options=t.extend({},n.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),s=this._core.$stage.children(),n=this._hashes[i]&&s.index(this._hashes[i]);void 0!==n&&n!==this._core.current()&&this._core.to(this._core.relative(n),!1,!0)},this))};n.Defaults={URLhashListener:!1},n.prototype.destroy=function(){var i,s;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(s in Object.getOwnPropertyNames(this))"function"!=typeof this[s]&&(this[s]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=n}(window.Zepto||window.jQuery,window,document),function(t,e,i,s){function n(e,i){var n=!1,o=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+a.join(o+" ")+o).split(" "),function(t,e){if(r[e]!==s)return n=!i||e,!1}),n}function o(t){return n(t,!0)}var r=t("<support>").get(0).style,a="Webkit Moz O ms".split(" "),h={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},l={csstransforms:function(){return!!n("transform")},csstransforms3d:function(){return!!n("perspective")},csstransitions:function(){return!!n("transition")},cssanimations:function(){return!!n("animation")}};l.csstransitions()&&(t.support.transition=new String(o("transition")),t.support.transition.end=h.transition.end[t.support.transition]),l.cssanimations()&&(t.support.animation=new String(o("animation")),t.support.animation.end=h.animation.end[t.support.animation]),l.csstransforms()&&(t.support.transform=new String(o("transform")),t.support.transform3d=l.csstransforms3d())}(window.Zepto||window.jQuery,window,document),$(document).ready(function(){$.support.placeholder="placeholder"in document.createElement("input"),$.support.placeholder&&($(".form-label").each(function(){$(this).addClass("js-hide-label")}),$(".form-group").find("input, textarea").on("keyup blur focus",function(t){var e=$(this),i=e.parent().find("label");"keyup"==t.type?""==e.val()?i.addClass("js-hide-label"):i.removeClass("js-hide-label"):"blur"==t.type?""==e.val()?i.addClass("js-hide-label"):i.removeClass("js-hide-label").addClass("js-unhighlight-label"):"focus"==t.type&&""!==e.val()&&i.removeClass("js-unhighlight-label")}))}),$(".toggle").on("click",function(){$(".container").stop().addClass("active")}),$(".close").on("click",function(){$(".container").stop().removeClass("active")}),$(document).ready(function(){$(function(){$("[data-popup-open]").on("click",function(t){var e=jQuery(this).attr("data-popup-open");$('[data-popup="'+e+'"]').fadeIn(350),t.preventDefault()}),$("[data-popup-close]").on("click",function(t){var e=jQuery(this).attr("data-popup-close");$('[data-popup="'+e+'"]').fadeOut(350),t.preventDefault()})});$(".owl-carousel").owlCarousel({loop:!0,margin:20,navSpeed:500,nav:!0,items:4,responsive:{0:{items:1},550:{items:2},820:{items:3},998:{items:4}}})}),function(){function t(t,i){function s(){t.querySelector(".m--previous-slide").classList.remove("m--active-slide","m--previous-slide"),t.querySelector(".m--previous-nav-bg").classList.remove("m--active-nav-bg","m--previous-nav-bg"),h.classList.remove("m--before-sliding"),l.classList.remove("m--nav-bg-before"),c.classList.remove("m--prev-control"),c.classList.add("m--reset-progress");c.offsetTop;c.classList.remove("m--reset-progress"),y=!1;t.offsetTop;$&&!b&&r()}function n(e){if(!y){y=!0,window.clearTimeout(a),_=e,(c=t.querySelector(".m--active-control")).classList.remove("m--active-control"),c.classList.add("m--prev-control"),t.querySelector(d+"nav__control-"+e).classList.add("m--active-control"),h=t.querySelector(d+"slide-"+e),l=t.querySelector(d+"nav__bg-"+e),t.querySelector(".m--active-slide").classList.add("m--previous-slide"),t.querySelector(".m--active-nav-bg").classList.add("m--previous-nav-bg"),h.classList.add("m--before-sliding"),l.classList.add("m--nav-bg-before");h.offsetTop;h.classList.add("m--active-slide"),l.classList.add("m--active-nav-bg"),setTimeout(s,w+x)}}function o(){if(!y&&!this.classList.contains("m--active-control")){i.blockASafterClick&&(b=!0,t.classList.add("m--autosliding-blocked"));n(+this.getAttribute("data-slide"))}}function r(){window.clearTimeout(a);var t=+i.autoSlidingDelay||C;++_>v&&(_=1),a=setTimeout(function(){n(_)},t)}var a,h,l,c,d=".fnc-",p=(t=t).querySelector(d+"slider__slides"),u=e(d+"slide",t),g=e(d+"nav__control",t),m=e(d+"nav__bg",t),f=e(d+"nav__control-progress",t),v=u.length,_=1,y=!1,w=1e3*+parseFloat(getComputedStyle(p)["transition-duration"]),x=1e3*+parseFloat(getComputedStyle(p)["transition-delay"]),$=!1,C=5e3,b=!1;if(u.forEach(function(t,e){t.classList.add("fnc-slide-"+(e+1))}),g.forEach(function(t,e){t.setAttribute("data-slide",e+1),t.classList.add("fnc-nav__control-"+(e+1))}),m.forEach(function(t,e){t.classList.add("fnc-nav__bg-"+(e+1))}),g.forEach(function(t){t.addEventListener("click",o)}),i.autoSliding||+i.autoSlidingDelay>0){if(!1===i.autoSliding)return;$=!0,r(),t.classList.add("m--with-autosliding");t.offsetTop;var z=+i.autoSlidingDelay||C;z+=x+w,f.forEach(function(t){t.style.transition="transform "+z/1e3+"s"})}t.querySelector(".fnc-nav__control:first-child").classList.add("m--active-control")}var e=function(t,e){var i=(e=e||document).querySelectorAll(t);return[].slice.call(i)};window.fncSlider=function(i,s){e(i).forEach(function(e){t(e,s)})}}(),fncSlider(".example-slider",{autoSlidingDelay:4e3});var $demoCont=document.querySelector(".demo-cont");[].slice.call(document.querySelectorAll(".fnc-slide__action-btn")).forEach(function(t){t.addEventListener("click",function(){$demoCont.classList.toggle("credits-active")})}),document.querySelector(".demo-cont__credits-close").addEventListener("click",function(){$demoCont.classList.remove("credits-active")}),document.querySelector(".js-activate-global-blending").addEventListener("click",function(){document.querySelector(".example-slider").classList.toggle("m--global-blending-active")}),$(document).ready(function(){!function(t){t.fn.countdown=function(e,i){function s(){eventDate=Date.parse(o.date)/1e3,currentDate=Math.floor(t.now()/1e3),eventDate<=currentDate&&(i.call(this),clearInterval(interval)),seconds=eventDate-currentDate,days=Math.floor(seconds/86400),seconds-=60*days*60*24,hours=Math.floor(seconds/3600),seconds-=60*hours*60,minutes=Math.floor(seconds/60),seconds-=60*minutes,days,n.find(".timeRefDays").text("Дней"),hours,n.find(".timeRefHours").text("Часов"),minutes,n.find(".timeRefMinutes").text("Минут"),seconds,n.find(".timeRefSeconds").text("Секунд"),"on"==o.format&&(days=String(days).length>=2?days:"0"+days,hours=String(hours).length>=2?hours:"0"+hours,minutes=String(minutes).length>=2?minutes:"0"+minutes,seconds=String(seconds).length>=2?seconds:"0"+seconds),isNaN(eventDate)?(errorMessage="Invalid date. Example: 27 March 2015 19:00:00",alert(errorMessage),console.log(errorMessage),clearInterval(interval)):(n.find(".days").text(days),n.find(".hours").text(hours),n.find(".minutes").text(minutes),n.find(".seconds").text(seconds))}var n=t(this),o={date:null,format:null};e&&t.extend(o,e),s(),interval=setInterval(s,1e3)}}(jQuery),$(document).ready(function(){$("#countdown").countdown({date:"28 February 2018 19:00:00",format:"on"})})}),$(document).ready(function(){});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibXlNYXAiLCJteUNlbnRlciIsImdvb2dsZSIsIm1hcHMiLCJMYXRMbmciLCJtYXBPcHRpb25zIiwiY2VudGVyIiwiem9vbSIsInNjcm9sbHdoZWVsIiwiZHJhZ2dhYmxlIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJNYXJrZXIiLCJwb3NpdGlvbiIsInNldE1hcCIsIiQiLCJ3aW5kb3ciLCJzY3JvbGwiLCJoZWFkZXIiLCJzY3JvbGxUb3AiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwicmVhZHkiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJtYXJnaW4iLCJuYXYiLCJyZXNwb25zaXZlIiwiMCIsIml0ZW1zIiwiNjAwIiwiMTAwMCIsInN0IiwidGhpcyIsImNzcyIsInRyYW5zZm9ybSIsImVhY2giLCJpZCIsImFwcGVuZCIsImNsYXNzIiwiZGVsZWdhdGUiLCJpZnJhbWVfdXJsIiwiZGF0YSIsImlmcmFtZSIsImZyYW1lYm9yZGVyIiwic3JjIiwid2lkdGgiLCJoZWlnaHQiLCJyZXBsYWNlV2l0aCIsInVuZGVmaW5lZCIsIk93bCIsImVsZW1lbnQiLCJvcHRpb25zIiwic2V0dGluZ3MiLCJleHRlbmQiLCJEZWZhdWx0cyIsIiRlbGVtZW50IiwiX2hhbmRsZXJzIiwiX3BsdWdpbnMiLCJfc3VwcmVzcyIsIl9jdXJyZW50IiwiX3NwZWVkIiwiX2Nvb3JkaW5hdGVzIiwiX2JyZWFrcG9pbnQiLCJfd2lkdGgiLCJfaXRlbXMiLCJfY2xvbmVzIiwiX21lcmdlcnMiLCJfd2lkdGhzIiwiX2ludmFsaWRhdGVkIiwiX3BpcGUiLCJfZHJhZyIsInRpbWUiLCJ0YXJnZXQiLCJwb2ludGVyIiwic3RhZ2UiLCJzdGFydCIsImN1cnJlbnQiLCJkaXJlY3Rpb24iLCJfc3RhdGVzIiwidGFncyIsImluaXRpYWxpemluZyIsImFuaW1hdGluZyIsImRyYWdnaW5nIiwicHJveHkiLCJpIiwiaGFuZGxlciIsIlBsdWdpbnMiLCJrZXkiLCJwbHVnaW4iLCJjaGFyQXQiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiV29ya2VycyIsInByaW9yaXR5Iiwid29ya2VyIiwicHVzaCIsImZpbHRlciIsInJ1biIsInNldHVwIiwiaW5pdGlhbGl6ZSIsInJld2luZCIsIm1vdXNlRHJhZyIsInRvdWNoRHJhZyIsInB1bGxEcmFnIiwiZnJlZURyYWciLCJzdGFnZVBhZGRpbmciLCJtZXJnZSIsIm1lcmdlRml0IiwiYXV0b1dpZHRoIiwic3RhcnRQb3NpdGlvbiIsInJ0bCIsInNtYXJ0U3BlZWQiLCJmbHVpZFNwZWVkIiwiZHJhZ0VuZFNwZWVkIiwicmVzcG9uc2l2ZVJlZnJlc2hSYXRlIiwicmVzcG9uc2l2ZUJhc2VFbGVtZW50IiwiZmFsbGJhY2tFYXNpbmciLCJpbmZvIiwibmVzdGVkSXRlbVNlbGVjdG9yIiwiaXRlbUVsZW1lbnQiLCJzdGFnZUVsZW1lbnQiLCJyZWZyZXNoQ2xhc3MiLCJsb2FkZWRDbGFzcyIsImxvYWRpbmdDbGFzcyIsInJ0bENsYXNzIiwicmVzcG9uc2l2ZUNsYXNzIiwiZHJhZ0NsYXNzIiwiaXRlbUNsYXNzIiwic3RhZ2VDbGFzcyIsInN0YWdlT3V0ZXJDbGFzcyIsImdyYWJDbGFzcyIsIldpZHRoIiwiRGVmYXVsdCIsIklubmVyIiwiT3V0ZXIiLCJUeXBlIiwiRXZlbnQiLCJTdGF0ZSIsImNhY2hlIiwicmVsYXRpdmUiLCIkc3RhZ2UiLCJjaGlsZHJlbiIsInJlbW92ZSIsImdyaWQiLCJtYXJnaW4tbGVmdCIsIm1hcmdpbi1yaWdodCIsInRvRml4ZWQiLCJpdGVyYXRvciIsImxlbmd0aCIsIndpZHRocyIsIk1hdGgiLCJtaW4iLCJjbG9uZXMiLCJ2aWV3IiwibWF4Iiwic2l6ZSIsImNlaWwiLCJyZXBlYXQiLCJwcmVwZW5kIiwibm9ybWFsaXplIiwib3V0ZXJIVE1MIiwiYXBwZW5kVG8iLCJwcmVwZW5kVG8iLCJwcmV2aW91cyIsImNvb3JkaW5hdGVzIiwicGFkZGluZyIsImFicyIsInBhZGRpbmctbGVmdCIsInBhZGRpbmctcmlnaHQiLCJlcSIsInJlbW92ZUF0dHIiLCJpbmRleCIsIm1pbmltdW0iLCJtYXhpbXVtIiwicmVzZXQiLCJhbmltYXRlIiwiaW5uZXIiLCJvdXRlciIsIm4iLCJiZWdpbiIsImVuZCIsIm1hdGNoZXMiLCJvcCIsImpvaW4iLCJwcm90b3R5cGUiLCJlbnRlciIsInRyaWdnZXIiLCJ0b2dnbGVDbGFzcyIsImlzIiwiaW1ncyIsIm5lc3RlZFNlbGVjdG9yIiwiZmluZCIsInByZWxvYWRBdXRvV2lkdGhJbWFnZXMiLCJ3cmFwIiwicGFyZW50IiwicmVwbGFjZSIsIm5vdCIsInJlZnJlc2giLCJpbnZhbGlkYXRlIiwicmVnaXN0ZXJFdmVudEhhbmRsZXJzIiwibGVhdmUiLCJ2aWV3cG9ydCIsIm92ZXJ3cml0ZXMiLCJtYXRjaCIsImJyZWFrcG9pbnQiLCJOdW1iZXIiLCJhdHRyIiwiUmVnRXhwIiwicHJvcGVydHkiLCJuYW1lIiwidmFsdWUiLCJvcHRpb25zTG9naWMiLCJwcmVwYXJlIiwiaXRlbSIsImV2ZW50IiwiY29udGVudCIsInVwZGF0ZSIsInAiLCJhbGwiLCJncmVwIiwiZGltZW5zaW9uIiwib25UaHJvdHRsZWRSZXNpemUiLCJjbGVhclRpbWVvdXQiLCJyZXNpemVUaW1lciIsInNldFRpbWVvdXQiLCJvblJlc2l6ZSIsImlzRGVmYXVsdFByZXZlbnRlZCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib24iLCJvblRyYW5zaXRpb25FbmQiLCJvbkRyYWdTdGFydCIsIm9uRHJhZ0VuZCIsIndoaWNoIiwieCIsInNwbGl0IiwieSIsImxlZnQiLCJ0b3AiLCJzdG9wIiwidHlwZSIsInNwZWVkIiwiRGF0ZSIsImdldFRpbWUiLCJvbmUiLCJkZWx0YSIsImRpZmZlcmVuY2UiLCJvbkRyYWdNb3ZlIiwicHJldmVudERlZmF1bHQiLCJwdWxsIiwib2ZmIiwiY2xvc2VzdCIsImNvb3JkaW5hdGUiLCJ0cmFuc2Zvcm0zZCIsInN0YXRlIiwicGFydCIsInYiLCJzdXBwcmVzcyIsInJlbGVhc2UiLCJtIiwiaXNOdW1lcmljIiwicmVjaXByb2NhbEl0ZW1zV2lkdGgiLCJlbGVtZW50V2lkdGgiLCJtZXJnZXJzIiwib2RkIiwiZXZlbiIsIm11bHRpcGxpZXIiLCJuZXdQb3NpdGlvbiIsImR1cmF0aW9uIiwiZnJvbSIsInRvIiwiZmFjdG9yIiwicmV2ZXJ0IiwiZGlzdGFuY2UiLCJuZXh0IiwicHJldiIsInN0b3BQcm9wYWdhdGlvbiIsInNyY0VsZW1lbnQiLCJvcmlnaW5hbFRhcmdldCIsImdldCIsImlubmVyV2lkdGgiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImNvbnNvbGUiLCJ3YXJuIiwiZW1wdHkiLCJqUXVlcnkiLCJub2RlVHlwZSIsImFkZEJhY2siLCJhZGQiLCJhZnRlciIsImJlZm9yZSIsInNwbGljZSIsImltYWdlcyIsIkltYWdlIiwiZSIsImRlc3Ryb3kiLCJ1bndyYXAiLCJjb250ZW50cyIsInJlbW92ZURhdGEiLCJhIiwibyIsImIiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJhZGRFdmVudExpc3RlbmVyIiwiYXR0YWNoRXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJuYW1lc3BhY2UiLCJzdGF0dXMiLCJjb3VudCIsImNhbWVsQ2FzZSIsInJlbGF0ZWRUYXJnZXQiLCJvblRyaWdnZXIiLCJyZWdpc3RlciIsImNhbGwiLCJjb25jYXQiLCJvYmplY3QiLCJzcGVjaWFsIiwib3dsIiwiX2RlZmF1bHQiLCJhcHBseSIsImluZGV4T2YiLCJhcmd1bWVudHMiLCJ0YWciLCJpbkFycmF5IiwiZXZlbnRzIiwicmVzdWx0Iiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJjbGllbnRYIiwiY2xpZW50WSIsIm51bWJlciIsImlzTmFOIiwicGFyc2VGbG9hdCIsImZpcnN0Iiwic2Vjb25kIiwiZm4iLCJvcHRpb24iLCJhcmdzIiwiQXJyYXkiLCIkdGhpcyIsIkNvbnN0cnVjdG9yIiwiWmVwdG8iLCJBdXRvUmVmcmVzaCIsImNhcm91c2VsIiwiX2NvcmUiLCJfaW50ZXJ2YWwiLCJfdmlzaWJsZSIsImluaXRpYWxpemVkLm93bC5jYXJvdXNlbCIsImF1dG9SZWZyZXNoIiwid2F0Y2giLCJhdXRvUmVmcmVzaEludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIkxhenkiLCJfbG9hZGVkIiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIGNoYW5nZS5vd2wuY2Fyb3VzZWwgcmVzaXplZC5vd2wuY2Fyb3VzZWwiLCJsYXp5TG9hZCIsImxvYWQiLCIkaXRlbSIsIiRlbGVtZW50cyIsImltYWdlIiwidXJsIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIm9ubG9hZCIsImJhY2tncm91bmQtaW1hZ2UiLCJvcGFjaXR5IiwiaGFuZGxlcnMiLCJBdXRvSGVpZ2h0IiwiaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWwiLCJhdXRvSGVpZ2h0IiwiY2hhbmdlZC5vd2wuY2Fyb3VzZWwiLCJsb2FkZWQub3dsLmxhenkiLCJhdXRvSGVpZ2h0Q2xhc3MiLCJ2aXNpYmxlIiwidG9BcnJheSIsImhlaWdodHMiLCJtYXhoZWlnaHQiLCJWaWRlbyIsIl92aWRlb3MiLCJfcGxheWluZyIsInJlc2l6ZS5vd2wuY2Fyb3VzZWwiLCJ2aWRlbyIsImlzSW5GdWxsU2NyZWVuIiwicmVmcmVzaGVkLm93bC5jYXJvdXNlbCIsInByZXBhcmVkLm93bC5jYXJvdXNlbCIsImZldGNoIiwicGxheSIsInZpZGVvSGVpZ2h0IiwidmlkZW9XaWR0aCIsIkVycm9yIiwidGh1bWJuYWlsIiwidG5MaW5rIiwiaWNvbiIsInBhdGgiLCJkaW1lbnNpb25zIiwiY3VzdG9tVG4iLCJzcmNUeXBlIiwibGF6eUNsYXNzIiwiY3JlYXRlIiwiYWpheCIsImpzb25wIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwidGh1bWJuYWlsX2xhcmdlIiwiZnJhbWVncmFiX3VybCIsImh0bWwiLCJpbnNlcnRBZnRlciIsImZ1bGxzY3JlZW5FbGVtZW50IiwibW96RnVsbFNjcmVlbkVsZW1lbnQiLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsImhhc0NsYXNzIiwiQW5pbWF0ZSIsInNjb3BlIiwiY29yZSIsInN3YXBwaW5nIiwiY2hhbmdlLm93bC5jYXJvdXNlbCIsImRyYWcub3dsLmNhcm91c2VsIGRyYWdnZWQub3dsLmNhcm91c2VsIHRyYW5zbGF0ZWQub3dsLmNhcm91c2VsIiwidHJhbnNsYXRlLm93bC5jYXJvdXNlbCIsImFuaW1hdGVPdXQiLCJhbmltYXRlSW4iLCJzd2FwIiwiYW5pbWF0aW9uIiwiY2xlYXIiLCJpbmNvbWluZyIsIm91dGdvaW5nIiwiQXV0b3BsYXkiLCJfdGltZW91dCIsIl9wYXVzZWQiLCJhdXRvcGxheSIsIl9zZXRBdXRvUGxheUludGVydmFsIiwicGxheS5vd2wuYXV0b3BsYXkiLCJ0IiwicyIsInN0b3Aub3dsLmF1dG9wbGF5IiwibW91c2VvdmVyLm93bC5hdXRvcGxheSIsImF1dG9wbGF5SG92ZXJQYXVzZSIsInBhdXNlIiwibW91c2VsZWF2ZS5vd2wuYXV0b3BsYXkiLCJ0b3VjaHN0YXJ0Lm93bC5jb3JlIiwidG91Y2hlbmQub3dsLmNvcmUiLCJhdXRvcGxheVRpbWVvdXQiLCJhdXRvcGxheVNwZWVkIiwidGltZW91dCIsIl9nZXROZXh0VGltZW91dCIsImhpZGRlbiIsIk5hdmlnYXRpb24iLCJfaW5pdGlhbGl6ZWQiLCJfcGFnZXMiLCJfY29udHJvbHMiLCJfdGVtcGxhdGVzIiwiX292ZXJyaWRlcyIsImRvdHNEYXRhIiwiZG90Q2xhc3MiLCJhZGRlZC5vd2wuY2Fyb3VzZWwiLCJwb3AiLCJyZW1vdmUub3dsLmNhcm91c2VsIiwiZHJhdyIsIm5hdlRleHQiLCJuYXZTcGVlZCIsIm5hdkVsZW1lbnQiLCJuYXZDb250YWluZXIiLCJuYXZDb250YWluZXJDbGFzcyIsIm5hdkNsYXNzIiwic2xpZGVCeSIsImRvdHNDbGFzcyIsImRvdHMiLCJkb3RzRWFjaCIsImRvdHNTcGVlZCIsImRvdHNDb250YWluZXIiLCJvdmVycmlkZSIsIiRyZWxhdGl2ZSIsIiRwcmV2aW91cyIsIiRuZXh0IiwicHJvcCIsIiRhYnNvbHV0ZSIsImNvbnRyb2wiLCJvdmVyaWRlcyIsImoiLCJsb3dlciIsInVwcGVyIiwiZGlzYWJsZWQiLCJwYWdlIiwiZ2V0UG9zaXRpb24iLCJzdWNjZXNzb3IiLCJzdGFuZGFyZCIsIkhhc2giLCJfaGFzaGVzIiwiaGFzaCIsImxvY2F0aW9uIiwic3Vic3RyaW5nIiwiVVJMaGFzaExpc3RlbmVyIiwidGVzdCIsInByZWZpeGVkIiwidG9VcHBlckNhc2UiLCJwcmVmaXhlcyIsInN0eWxlIiwiV2Via2l0VHJhbnNpdGlvbiIsIk1velRyYW5zaXRpb24iLCJPVHJhbnNpdGlvbiIsIldlYmtpdEFuaW1hdGlvbiIsIk1vekFuaW1hdGlvbiIsIk9BbmltYXRpb24iLCJ0ZXN0cyIsImNzc3RyYW5zZm9ybXMiLCJjc3N0cmFuc2Zvcm1zM2QiLCJjc3N0cmFuc2l0aW9ucyIsImNzc2FuaW1hdGlvbnMiLCJTdHJpbmciLCJwbGFjZWhvbGRlciIsImNyZWF0ZUVsZW1lbnQiLCIkcGFyZW50IiwidmFsIiwidGFyZ2V0ZWRfcG9wdXBfY2xhc3MiLCJmYWRlSW4iLCJmYWRlT3V0IiwiNTUwIiwiODIwIiwiOTk4IiwiX2ZuY1NsaWRlckluaXQiLCIkc2xpZGVyIiwiYWZ0ZXJTbGlkaW5nSGFuZGxlciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCIkYWN0aXZlU2xpZGUiLCIkYWN0aXZlQ29udHJvbHNCZyIsIiRwcmV2Q29udHJvbCIsIm9mZnNldFRvcCIsInNsaWRpbmciLCJhdXRvU2xpZGluZ0FjdGl2ZSIsImF1dG9TbGlkaW5nQmxvY2tlZCIsInNldEF1dG9zbGlkaW5nVE8iLCJwZXJmb3JtU2xpZGluZyIsInNsaWRlSUQiLCJhdXRvU2xpZGluZ1RPIiwiY3VyU2xpZGUiLCJwcmVmaXgiLCJzbGlkaW5nQVQiLCJzbGlkaW5nRGVsYXkiLCJjb250cm9sQ2xpY2tIYW5kbGVyIiwiY29udGFpbnMiLCJibG9ja0FTYWZ0ZXJDbGljayIsImdldEF0dHJpYnV0ZSIsImRlbGF5IiwiYXV0b1NsaWRpbmdEZWxheSIsIm51bU9mU2xpZGVzIiwiJHNsaWRlc0NvbnQiLCIkc2xpZGVzIiwiJCQiLCIkY29udHJvbHMiLCIkY29udHJvbHNCZ3MiLCIkcHJvZ3Jlc3NBUyIsImdldENvbXB1dGVkU3R5bGUiLCJmb3JFYWNoIiwiJHNsaWRlIiwiJGNvbnRyb2wiLCJzZXRBdHRyaWJ1dGUiLCIkYmciLCJhdXRvU2xpZGluZyIsIiRwcm9ncmVzcyIsInNlbGVjdG9yIiwiY29udGV4dCIsImVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImZuY1NsaWRlciIsInNsaWRlclNlbGVjdG9yIiwiJGRlbW9Db250IiwiJGJ0biIsInRvZ2dsZSIsImNvdW50ZG93biIsImV2ZW50RGF0ZSIsInBhcnNlIiwiciIsImRhdGUiLCJjdXJyZW50RGF0ZSIsImZsb29yIiwibm93IiwiaW50ZXJ2YWwiLCJzZWNvbmRzIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInRoaXNFbCIsInRleHQiLCJlcnJvck1lc3NhZ2UiLCJhbGVydCIsImxvZyIsImZvcm1hdCJdLCJtYXBwaW5ncyI6IkFBZzFHQSxTQUFTQSxRQUVMQyxTQUFTLElBQUlDLE9BQU9DLEtBQUtDLE9BQU8sV0FBWSxXQUM1QyxJQUFJQyxHQUNBQyxPQUFPTCxTQUNQTSxLQUFLLEdBQUlDLGFBQWEsRUFBT0MsV0FBVyxFQUN4Q0MsVUFBVVIsT0FBT0MsS0FBS1EsVUFBVUMsU0FFaENDLEVBQUksSUFBSVgsT0FBT0MsS0FBS1csSUFBSUMsU0FBU0MsZUFBZSxhQUFhWCxHQUVwRCxJQUFJSCxPQUFPQyxLQUFLYyxRQUN6QkMsU0FBVWpCLFdBRVBrQixPQUFPTixHQTUxR2xCTyxFQUFFQyxRQUFRQyxPQUFPLFdBQ2IsSUFBSUMsRUFBU0gsRUFBRSxXQUNYQSxF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LE1BQU10YixRQUFVLEVBQUlzYixLQUFPLElBQU1BLEtBQy9DQyxNQUFReEUsT0FBT3dFLE9BQU92YixRQUFVLEVBQUl1YixNQUFRLElBQU1BLE1BQ2xEQyxRQUFVekUsT0FBT3lFLFNBQVN4YixRQUFVLEVBQUl3YixRQUFVLElBQU1BLFFBQ3hESCxRQUFVdEUsT0FBT3NFLFNBQVNyYixRQUFVLEVBQUlxYixRQUFVLElBQU1BLFNBR3hEeFAsTUFBTWdQLFlBT05jLGFBQWUsZ0RBQ2ZDLE1BQU1ELGNBQ05wVCxRQUFRc1QsSUFBSUYsY0FDWnpPLGNBQWNrTyxZQVRkSyxFQUFPOVksS0FBSyxTQUFTK1ksS0FBS0osTUFDMUJHLEVBQU85WSxLQUFLLFVBQVUrWSxLQUFLSCxPQUMzQkUsRUFBTzlZLEtBQUssWUFBWStZLEtBQUtGLFNBQzdCQyxFQUFPOVksS0FBSyxZQUFZK1ksS0FBS0wsVUFVckMsSUFBSUksRUFBU3RTLEVBQUV2USxNQUNYbWlCLEdBQ0FDLEtBQU0sS0FDTmMsT0FBUSxNQUdaM0osR0FBS2hKLEVBQUVsUCxPQUFPOGdCLEVBQUc1SSxHQUNqQm5XLElBQ0FvZixTQUFXbk8sWUFBWWpSLEVBQUcsTUFyRGxDLENBdURHME0sUUFFSGhSLEVBQUVMLFVBQVVZLE1BQU0sV0FXZFAsRUFBRSxjQUFja2pCLFdBQ1pJLEtBQU0sNEJBQ05jLE9BQVEsV0FLcEJwa0IsRUFBRUwsVUFBVVksTUFBTSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaGVhZGVyIGZpeGVkXHJcbiQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGhlYWRlciA9ICQoJy5oZWFkZXInKTtcclxuICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPj0gMTAwKSB7XHJcbiAgICAgICAgaGVhZGVyLmFkZENsYXNzKCdoZWFkZXItLWFjdGl2ZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBoZWFkZXIucmVtb3ZlQ2xhc3MoJ2hlYWRlci0tYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pO1xyXG4vLyBTTElERVIgU1BFQUtFUlMgUkVWSUVXU1xyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2xpZGVyUmV2aWV3cyA9ICQoJy5yZXZpZXdzX3NsaWRlcicpO1xyXG4gICAgc2xpZGVyUmV2aWV3cy5vd2xDYXJvdXNlbCh7XHJcbiAgICAgICAgbG9vcDogdHJ1ZSxcclxuICAgICAgICBtYXJnaW46IDAsXHJcbiAgICAgICAgbmF2OiB0cnVlLFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IHtcclxuICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgNjAwOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogMVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAxMDAwOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogMVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxufSlcclxuXHJcblxyXG4vKj09PT09PT09PT09PT09UEFSQUxMQVggPT09PT09PT09PT09PT09PT09PSovXHJcblxyXG5cclxuJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc3QgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG5cclxuICAgIC8qPT09PT09PXN0dWR5PT09PT09Ki9cclxuICAgICQoJy5jb250YWluZXItLXN0dWR5X190aXRsZSAnKS5jc3Moe1xyXG4gICAgICAgIFwidHJhbnNmb3JtXCI6IFwidHJhbnNsYXRlKDAlLCBcIiArIC1zdCAvIDUwICsgXCIlXCJcclxuICAgIH0pO1xyXG4gICAgJCgnI2Nsb3VkLXN0dWR5JykuY3NzKHtcclxuICAgICAgICBcInRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZSgwJSwgXCIgKyBzdCAvIDMwICsgXCIlXCJcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyNiaXJkcy1zdHVkeScpLmNzcyh7XHJcbiAgICAgICAgXCJ0cmFuc2Zvcm1cIjogXCJ0cmFuc2xhdGUoMCUsIFwiICsgLXN0IC8gNDAgKyBcIiVcIlxyXG4gICAgfSk7XHJcbiAgICAvKj09PT1leHBlcnRzPT09PSovXHJcbiAgICAkKCcuaW1hZ2UtY2xvdWRzLWV4cGVydC1zZWN0aW9uJykuY3NzKHtcclxuICAgICAgICBcInRyYW5zZm9ybVwiOiBcInRyYW5zbGF0ZSgwJSwgXCIgKyBzdCAvIDMwICsgXCIlXCJcclxuICAgIH0pO1xyXG4gICAgLyo9PT09PXByb2dyYW1tZT0qL1xyXG4gICAgJCgnLmNsb3Vkcy1pbWFnZS1wcm9ncmFtbWUnKS5jc3Moe1xyXG4gICAgICAgIFwidHJhbnNmb3JtXCI6IFwidHJhbnNsYXRlKDAlLCBcIiArIC1zdCAvIDYwICsgXCIlXCJcclxuICAgIH0pO1xyXG59KTtcclxuXHJcblxyXG5cclxuLyo9PT09PT09PT09eW91dHViZT09PT09PT09Ki9cclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcbiAgICAkKFwiLnlvdXR1YmVcIikuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBCYXNlZCBvbiB0aGUgWW91VHViZSBJRCwgd2UgY2FuIGVhc2lseSBmaW5kIHRoZSB0aHVtYm5haWwgaW1hZ2VcclxuICAgICAgICAkKHRoaXMpLmNzcygnYmFja2dyb3VuZC1pbWFnZScsICd1cmwoaHR0cDovL2kueXRpbWcuY29tL3ZpLycgKyB0aGlzLmlkICsgJy9zZGRlZmF1bHQuanBnKScpO1xyXG5cclxuICAgICAgICAvLyBPdmVybGF5IHRoZSBQbGF5IGljb24gdG8gbWFrZSBpdCBsb29rIGxpa2UgYSB2aWRlbyBwbGF5ZXJcclxuICAgICAgICAkKHRoaXMpLmFwcGVuZCgkKCc8ZGl2Lz4nLCB7J2NsYXNzJzogJ3BsYXknfSkpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5kZWxlZ2F0ZSgnIycrdGhpcy5pZCwgJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBpRnJhbWUgd2l0aCBhdXRvcGxheSBzZXQgdG8gdHJ1ZVxyXG4gICAgICAgICAgICB2YXIgaWZyYW1lX3VybCA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvXCIgKyB0aGlzLmlkICsgXCI/YXV0b3BsYXk9MSZhdXRvaGlkZT0xJnNob3dpbmZvPTAmbGlzdD1QTEkyR25FUXNYbXh0bWtueGZjOHdwTVdDc1g1akZ0cmhSXCI7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ3BhcmFtcycpKSBpZnJhbWVfdXJsKz0nJicrJCh0aGlzKS5kYXRhKCdwYXJhbXMnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoZSBoZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBpRnJhbWUgc2hvdWxkIGJlIHRoZSBzYW1lIGFzIHBhcmVudFxyXG4gICAgICAgICAgICB2YXIgaWZyYW1lID0gJCgnPGlmcmFtZS8+JywgeydmcmFtZWJvcmRlcic6ICcwJywgJ3NyYyc6IGlmcmFtZV91cmwsICd3aWR0aCc6ICQodGhpcykud2lkdGgoKSwgJ2hlaWdodCc6ICQodGhpcykuaGVpZ2h0KCkgfSlcclxuXHJcbiAgICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIFlvdVR1YmUgdGh1bWJuYWlsIHdpdGggWW91VHViZSBIVE1MNSBQbGF5ZXJcclxuICAgICAgICAgICAgJCh0aGlzKS5yZXBsYWNlV2l0aChpZnJhbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLyo9PT09PT09PT09Ly95b3V0dWJlPT09PT09PT0qL1xyXG5cclxuXHJcbi8qPT09PT09PT1jbG9zZSBidXR0b249PT09PT09PT09Ki9cbi8qKlxyXG4gKiBPd2wgQ2Fyb3VzZWwgdjIuMi4xXHJcbiAqIENvcHlyaWdodCAyMDEzLTIwMTcgRGF2aWQgRGV1dHNjaFxyXG4gKiBMaWNlbnNlZCB1bmRlciAgKClcclxuICovXHJcbi8qKlxyXG4gKiBPd2wgY2Fyb3VzZWxcclxuICogQHZlcnNpb24gMi4xLjZcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKiBAdG9kbyBMYXp5IExvYWQgSWNvblxyXG4gKiBAdG9kbyBwcmV2ZW50IGFuaW1hdGlvbmVuZCBidWJsaW5nXHJcbiAqIEB0b2RvIGl0ZW1zU2NhbGVVcFxyXG4gKiBAdG9kbyBUZXN0IFplcHRvXHJcbiAqIEB0b2RvIHN0YWdlUGFkZGluZyBjYWxjdWxhdGUgd3JvbmcgYWN0aXZlIGNsYXNzZXNcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgY2Fyb3VzZWwuXHJcbiAgICAgKiBAY2xhc3MgVGhlIE93bCBDYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgdG8gY3JlYXRlIHRoZSBjYXJvdXNlbCBmb3IuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gT3dsKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBzZXR0aW5ncyBmb3IgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudCBvcHRpb25zIHNldCBieSB0aGUgY2FsbGVyIGluY2x1ZGluZyBkZWZhdWx0cy5cclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIE93bC5EZWZhdWx0cywgb3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJveGllZCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlcyB0byB0aGUgcnVubmluZyBwbHVnaW5zIG9mIHRoaXMgY2Fyb3VzZWwuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSB7fTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3VycmVudGx5IHN1cHByZXNzZWQgZXZlbnRzIHRvIHByZXZlbnQgdGhlbSBmcm9tIGJlZWluZyByZXRyaWdnZXJlZC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3VwcmVzcyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBYnNvbHV0ZSBjdXJyZW50IHBvc2l0aW9uLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW5pbWF0aW9uIHNwZWVkIGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fc3BlZWQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDb29yZGluYXRlcyBvZiBhbGwgaXRlbXMgaW4gcGl4ZWwuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZW1iZXIgaXMgbWlzc2xlYWRpbmcuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgYnJlYWtwb2ludC5cclxuICAgICAgICAgKiBAdG9kbyBSZWFsIG1lZGlhIHF1ZXJpZXMgd291bGQgYmUgbmljZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fYnJlYWtwb2ludCA9IG51bGw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgd2lkdGggb2YgdGhlIHBsdWdpbiBlbGVtZW50LlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIHJlYWwgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2l0ZW1zID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBjbG9uZWQgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2Nsb25lcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNZXJnZSB2YWx1ZXMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqIEB0b2RvIE1heWJlIHRoaXMgY291bGQgYmUgcGFydCBvZiBhIHBsdWdpbi5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbWVyZ2VycyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBXaWR0aHMgb2YgYWxsIGl0ZW1zLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3dpZHRocyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbnZhbGlkYXRlZCBwYXJ0cyB3aXRoaW4gdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlZCA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPcmRlcmVkIGxpc3Qgb2Ygd29ya2VycyBmb3IgdGhlIHVwZGF0ZSBwcm9jZXNzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9waXBlID0gW107XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgc3RhdGUgaW5mb3JtYXRpb24gZm9yIHRoZSBkcmFnIG9wZXJhdGlvbi5cclxuICAgICAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2RyYWcgPSB7XHJcbiAgICAgICAgICAgIHRpbWU6IG51bGwsXHJcbiAgICAgICAgICAgIHRhcmdldDogbnVsbCxcclxuICAgICAgICAgICAgcG9pbnRlcjogbnVsbCxcclxuICAgICAgICAgICAgc3RhZ2U6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudDogbnVsbFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IG51bGxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDdXJyZW50IHN0YXRlIGluZm9ybWF0aW9uIGFuZCB0aGVpciB0YWdzLlxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IHtcclxuICAgICAgICAgICAgY3VycmVudDoge30sXHJcbiAgICAgICAgICAgIHRhZ3M6IHtcclxuICAgICAgICAgICAgICAgICdpbml0aWFsaXppbmcnOiBbICdidXN5JyBdLFxyXG4gICAgICAgICAgICAgICAgJ2FuaW1hdGluZyc6IFsgJ2J1c3knIF0sXHJcbiAgICAgICAgICAgICAgICAnZHJhZ2dpbmcnOiBbICdpbnRlcmFjdGluZycgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJC5lYWNoKFsgJ29uUmVzaXplJywgJ29uVGhyb3R0bGVkUmVzaXplJyBdLCAkLnByb3h5KGZ1bmN0aW9uKGksIGhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0gPSAkLnByb3h5KHRoaXNbaGFuZGxlcl0sIHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5QbHVnaW5zLCAkLnByb3h5KGZ1bmN0aW9uKGtleSwgcGx1Z2luKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3BsdWdpbnNba2V5LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsga2V5LnNsaWNlKDEpXVxyXG4gICAgICAgICAgICAgICAgPSBuZXcgcGx1Z2luKHRoaXMpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJC5lYWNoKE93bC5Xb3JrZXJzLCAkLnByb3h5KGZ1bmN0aW9uKHByaW9yaXR5LCB3b3JrZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGlwZS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICdmaWx0ZXInOiB3b3JrZXIuZmlsdGVyLFxyXG4gICAgICAgICAgICAgICAgJ3J1bic6ICQucHJveHkod29ya2VyLnJ1biwgdGhpcylcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHVwKCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMgZm9yIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGl0ZW1zOiAzLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIGNlbnRlcjogZmFsc2UsXHJcbiAgICAgICAgcmV3aW5kOiBmYWxzZSxcclxuXHJcbiAgICAgICAgbW91c2VEcmFnOiB0cnVlLFxyXG4gICAgICAgIHRvdWNoRHJhZzogdHJ1ZSxcclxuICAgICAgICBwdWxsRHJhZzogdHJ1ZSxcclxuICAgICAgICBmcmVlRHJhZzogZmFsc2UsXHJcblxyXG4gICAgICAgIG1hcmdpbjogMCxcclxuICAgICAgICBzdGFnZVBhZGRpbmc6IDAsXHJcblxyXG4gICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICBtZXJnZUZpdDogdHJ1ZSxcclxuICAgICAgICBhdXRvV2lkdGg6IGZhbHNlLFxyXG5cclxuICAgICAgICBzdGFydFBvc2l0aW9uOiAwLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcblxyXG4gICAgICAgIHNtYXJ0U3BlZWQ6IDI1MCxcclxuICAgICAgICBmbHVpZFNwZWVkOiBmYWxzZSxcclxuICAgICAgICBkcmFnRW5kU3BlZWQ6IGZhbHNlLFxyXG5cclxuICAgICAgICByZXNwb25zaXZlOiB7fSxcclxuICAgICAgICByZXNwb25zaXZlUmVmcmVzaFJhdGU6IDIwMCxcclxuICAgICAgICByZXNwb25zaXZlQmFzZUVsZW1lbnQ6IHdpbmRvdyxcclxuXHJcbiAgICAgICAgZmFsbGJhY2tFYXNpbmc6ICdzd2luZycsXHJcblxyXG4gICAgICAgIGluZm86IGZhbHNlLFxyXG5cclxuICAgICAgICBuZXN0ZWRJdGVtU2VsZWN0b3I6IGZhbHNlLFxyXG4gICAgICAgIGl0ZW1FbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBzdGFnZUVsZW1lbnQ6ICdkaXYnLFxyXG5cclxuICAgICAgICByZWZyZXNoQ2xhc3M6ICdvd2wtcmVmcmVzaCcsXHJcbiAgICAgICAgbG9hZGVkQ2xhc3M6ICdvd2wtbG9hZGVkJyxcclxuICAgICAgICBsb2FkaW5nQ2xhc3M6ICdvd2wtbG9hZGluZycsXHJcbiAgICAgICAgcnRsQ2xhc3M6ICdvd2wtcnRsJyxcclxuICAgICAgICByZXNwb25zaXZlQ2xhc3M6ICdvd2wtcmVzcG9uc2l2ZScsXHJcbiAgICAgICAgZHJhZ0NsYXNzOiAnb3dsLWRyYWcnLFxyXG4gICAgICAgIGl0ZW1DbGFzczogJ293bC1pdGVtJyxcclxuICAgICAgICBzdGFnZUNsYXNzOiAnb3dsLXN0YWdlJyxcclxuICAgICAgICBzdGFnZU91dGVyQ2xhc3M6ICdvd2wtc3RhZ2Utb3V0ZXInLFxyXG4gICAgICAgIGdyYWJDbGFzczogJ293bC1ncmFiJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB3aWR0aC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLldpZHRoID0ge1xyXG4gICAgICAgIERlZmF1bHQ6ICdkZWZhdWx0JyxcclxuICAgICAgICBJbm5lcjogJ2lubmVyJyxcclxuICAgICAgICBPdXRlcjogJ291dGVyJ1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVudW1lcmF0aW9uIGZvciB0eXBlcy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEByZWFkb25seVxyXG4gICAgICogQGVudW0ge1N0cmluZ31cclxuICAgICAqL1xyXG4gICAgT3dsLlR5cGUgPSB7XHJcbiAgICAgICAgRXZlbnQ6ICdldmVudCcsXHJcbiAgICAgICAgU3RhdGU6ICdzdGF0ZSdcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb250YWlucyBhbGwgcmVnaXN0ZXJlZCBwbHVnaW5zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wuUGx1Z2lucyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogTGlzdCBvZiB3b3JrZXJzIGludm9sdmVkIGluIHRoZSB1cGRhdGUgcHJvY2Vzcy5cclxuICAgICAqL1xyXG4gICAgT3dsLldvcmtlcnMgPSBbIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy4kZWxlbWVudC53aWR0aCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IHRoaXMuX2l0ZW1zICYmIHRoaXMuX2l0ZW1zW3RoaXMucmVsYXRpdmUodGhpcy5fY3VycmVudCldO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgbWFyZ2luID0gdGhpcy5zZXR0aW5ncy5tYXJnaW4gfHwgJycsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogJ2F1dG8nLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tbGVmdCc6IHJ0bCA/IG1hcmdpbiA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICdtYXJnaW4tcmlnaHQnOiBydGwgPyAnJyA6IG1hcmdpblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICFncmlkICYmIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY3NzKGNzcyk7XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5jc3MgPSBjc3M7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbihjYWNoZSkge1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSAodGhpcy53aWR0aCgpIC8gdGhpcy5zZXR0aW5ncy5pdGVtcykudG9GaXhlZCgzKSAtIHRoaXMuc2V0dGluZ3MubWFyZ2luLFxyXG4gICAgICAgICAgICAgICAgbWVyZ2UgPSBudWxsLFxyXG4gICAgICAgICAgICAgICAgaXRlcmF0b3IgPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBncmlkID0gIXRoaXMuc2V0dGluZ3MuYXV0b1dpZHRoLFxyXG4gICAgICAgICAgICAgICAgd2lkdGhzID0gW107XHJcblxyXG4gICAgICAgICAgICBjYWNoZS5pdGVtcyA9IHtcclxuICAgICAgICAgICAgICAgIG1lcmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlID0gdGhpcy5fbWVyZ2Vyc1tpdGVyYXRvcl07XHJcbiAgICAgICAgICAgICAgICBtZXJnZSA9IHRoaXMuc2V0dGluZ3MubWVyZ2VGaXQgJiYgTWF0aC5taW4obWVyZ2UsIHRoaXMuc2V0dGluZ3MuaXRlbXMpIHx8IG1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhY2hlLml0ZW1zLm1lcmdlID0gbWVyZ2UgPiAxIHx8IGNhY2hlLml0ZW1zLm1lcmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIHdpZHRoc1tpdGVyYXRvcl0gPSAhZ3JpZCA/IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpIDogd2lkdGggKiBtZXJnZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fd2lkdGhzID0gd2lkdGhzO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBjbG9uZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgIGl0ZW1zID0gdGhpcy5faXRlbXMsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBTaG91bGQgYmUgY29tcHV0ZWQgZnJvbSBudW1iZXIgb2YgbWluIHdpZHRoIGl0ZW1zIGluIHN0YWdlXHJcbiAgICAgICAgICAgICAgICB2aWV3ID0gTWF0aC5tYXgoc2V0dGluZ3MuaXRlbXMgKiAyLCA0KSxcclxuICAgICAgICAgICAgICAgIHNpemUgPSBNYXRoLmNlaWwoaXRlbXMubGVuZ3RoIC8gMikgKiAyLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0ID0gc2V0dGluZ3MubG9vcCAmJiBpdGVtcy5sZW5ndGggPyBzZXR0aW5ncy5yZXdpbmQgPyB2aWV3IDogTWF0aC5tYXgodmlldywgc2l6ZSkgOiAwLFxyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gJycsXHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gJyc7XHJcblxyXG4gICAgICAgICAgICByZXBlYXQgLz0gMjtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChyZXBlYXQtLSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIG9ubHkgdXNpbmcgYXBwZW5kZWQgY2xvbmVzXHJcbiAgICAgICAgICAgICAgICBjbG9uZXMucHVzaCh0aGlzLm5vcm1hbGl6ZShjbG9uZXMubGVuZ3RoIC8gMiwgdHJ1ZSkpO1xyXG4gICAgICAgICAgICAgICAgYXBwZW5kID0gYXBwZW5kICsgaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVzLnB1c2godGhpcy5ub3JtYWxpemUoaXRlbXMubGVuZ3RoIC0gMSAtIChjbG9uZXMubGVuZ3RoIC0gMSkgLyAyLCB0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICBwcmVwZW5kID0gaXRlbXNbY2xvbmVzW2Nsb25lcy5sZW5ndGggLSAxXV1bMF0ub3V0ZXJIVE1MICsgcHJlcGVuZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fY2xvbmVzID0gY2xvbmVzO1xyXG5cclxuICAgICAgICAgICAgJChhcHBlbmQpLmFkZENsYXNzKCdjbG9uZWQnKS5hcHBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgICAgICQocHJlcGVuZCkuYWRkQ2xhc3MoJ2Nsb25lZCcpLnByZXBlbmRUbyh0aGlzLiRzdGFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHJ0bCA9IHRoaXMuc2V0dGluZ3MucnRsID8gMSA6IC0xLFxyXG4gICAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMuX2Nsb25lcy5sZW5ndGggKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpdGVyYXRvciA9IC0xLFxyXG4gICAgICAgICAgICAgICAgcHJldmlvdXMgPSAwLFxyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IDAsXHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgd2hpbGUgKCsraXRlcmF0b3IgPCBzaXplKSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91cyA9IGNvb3JkaW5hdGVzW2l0ZXJhdG9yIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKHByZXZpb3VzICsgY3VycmVudCAqIHJ0bCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2Nvb3JkaW5hdGVzID0gY29vcmRpbmF0ZXM7XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnd2lkdGgnLCAnaXRlbXMnLCAnc2V0dGluZ3MnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyxcclxuICAgICAgICAgICAgICAgIGNvb3JkaW5hdGVzID0gdGhpcy5fY29vcmRpbmF0ZXMsXHJcbiAgICAgICAgICAgICAgICBjc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJ3dpZHRoJzogTWF0aC5jZWlsKE1hdGguYWJzKGNvb3JkaW5hdGVzW2Nvb3JkaW5hdGVzLmxlbmd0aCAtIDFdKSkgKyBwYWRkaW5nICogMixcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1sZWZ0JzogcGFkZGluZyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAncGFkZGluZy1yaWdodCc6IHBhZGRpbmcgfHwgJydcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3MoY3NzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGdyaWQgPSAhdGhpcy5zZXR0aW5ncy5hdXRvV2lkdGgsXHJcbiAgICAgICAgICAgICAgICBpdGVtcyA9IHRoaXMuJHN0YWdlLmNoaWxkcmVuKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ3JpZCAmJiBjYWNoZS5pdGVtcy5tZXJnZSkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSB0aGlzLl93aWR0aHNbdGhpcy5yZWxhdGl2ZShpdGVyYXRvcildO1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zLmVxKGl0ZXJhdG9yKS5jc3MoY2FjaGUuY3NzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChncmlkKSB7XHJcbiAgICAgICAgICAgICAgICBjYWNoZS5jc3Mud2lkdGggPSBjYWNoZS5pdGVtcy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGl0ZW1zLmNzcyhjYWNoZS5jc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSwge1xyXG4gICAgICAgIGZpbHRlcjogWyAnaXRlbXMnIF0sXHJcbiAgICAgICAgcnVuOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29vcmRpbmF0ZXMubGVuZ3RoIDwgMSAmJiB0aGlzLiRzdGFnZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3dpZHRoJywgJ2l0ZW1zJywgJ3NldHRpbmdzJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oY2FjaGUpIHtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IGNhY2hlLmN1cnJlbnQgPyB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLmluZGV4KGNhY2hlLmN1cnJlbnQpIDogMDtcclxuICAgICAgICAgICAgY2FjaGUuY3VycmVudCA9IE1hdGgubWF4KHRoaXMubWluaW11bSgpLCBNYXRoLm1pbih0aGlzLm1heGltdW0oKSwgY2FjaGUuY3VycmVudCkpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0KGNhY2hlLmN1cnJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBmaWx0ZXI6IFsgJ3Bvc2l0aW9uJyBdLFxyXG4gICAgICAgIHJ1bjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0ZSh0aGlzLmNvb3JkaW5hdGVzKHRoaXMuX2N1cnJlbnQpKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgZmlsdGVyOiBbICd3aWR0aCcsICdwb3NpdGlvbicsICdpdGVtcycsICdzZXR0aW5ncycgXSxcclxuICAgICAgICBydW46IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGwgPyAxIDogLTEsXHJcbiAgICAgICAgICAgICAgICBwYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5zdGFnZVBhZGRpbmcgKiAyLFxyXG4gICAgICAgICAgICAgICAgYmVnaW4gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMuY3VycmVudCgpKSArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgICAgICBlbmQgPSBiZWdpbiArIHRoaXMud2lkdGgoKSAqIHJ0bCxcclxuICAgICAgICAgICAgICAgIGlubmVyLCBvdXRlciwgbWF0Y2hlcyA9IFtdLCBpLCBuO1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMCwgbiA9IHRoaXMuX2Nvb3JkaW5hdGVzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaW5uZXIgPSB0aGlzLl9jb29yZGluYXRlc1tpIC0gMV0gfHwgMDtcclxuICAgICAgICAgICAgICAgIG91dGVyID0gTWF0aC5hYnModGhpcy5fY29vcmRpbmF0ZXNbaV0pICsgcGFkZGluZyAqIHJ0bDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKHRoaXMub3AoaW5uZXIsICc8PScsIGJlZ2luKSAmJiAodGhpcy5vcChpbm5lciwgJz4nLCBlbmQpKSlcclxuICAgICAgICAgICAgICAgICAgICB8fCAodGhpcy5vcChvdXRlciwgJzwnLCBiZWdpbikgJiYgdGhpcy5vcChvdXRlciwgJz4nLCBlbmQpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCc6ZXEoJyArIG1hdGNoZXMuam9pbignKSwgOmVxKCcpICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5jZW50ZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2VudGVyJykucmVtb3ZlQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLmN1cnJlbnQoKSkuYWRkQ2xhc3MoJ2NlbnRlcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLmVudGVyKCdpbml0aWFsaXppbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2luaXRpYWxpemUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLnNldHRpbmdzLnJ0bENsYXNzLCB0aGlzLnNldHRpbmdzLnJ0bCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCAmJiAhdGhpcy5pcygncHJlLWxvYWRpbmcnKSkge1xyXG4gICAgICAgICAgICB2YXIgaW1ncywgbmVzdGVkU2VsZWN0b3IsIHdpZHRoO1xyXG4gICAgICAgICAgICBpbWdzID0gdGhpcy4kZWxlbWVudC5maW5kKCdpbWcnKTtcclxuICAgICAgICAgICAgbmVzdGVkU2VsZWN0b3IgPSB0aGlzLnNldHRpbmdzLm5lc3RlZEl0ZW1TZWxlY3RvciA/ICcuJyArIHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4obmVzdGVkU2VsZWN0b3IpLndpZHRoKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaW1ncy5sZW5ndGggJiYgd2lkdGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzKGltZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkaW5nQ2xhc3MpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgc3RhZ2VcclxuICAgICAgICB0aGlzLiRzdGFnZSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5zdGFnZUVsZW1lbnQgKyAnIGNsYXNzPVwiJyArIHRoaXMuc2V0dGluZ3Muc3RhZ2VDbGFzcyArICdcIi8+JylcclxuICAgICAgICAgICAgLndyYXAoJzxkaXYgY2xhc3M9XCInICsgdGhpcy5zZXR0aW5ncy5zdGFnZU91dGVyQ2xhc3MgKyAnXCIvPicpO1xyXG5cclxuICAgICAgICAvLyBhcHBlbmQgc3RhZ2VcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFwcGVuZCh0aGlzLiRzdGFnZS5wYXJlbnQoKSk7XHJcblxyXG4gICAgICAgIC8vIGFwcGVuZCBjb250ZW50XHJcbiAgICAgICAgdGhpcy5yZXBsYWNlKHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oKS5ub3QodGhpcy4kc3RhZ2UucGFyZW50KCkpKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgdmlzaWJpbGl0eVxyXG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB2aWV3XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGludmFsaWRhdGUgd2lkdGhcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCd3aWR0aCcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudFxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50SGFuZGxlcnMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnaW5pdGlhbGl6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdpbml0aWFsaXplZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHVwcyB0aGUgY3VycmVudCBzZXR0aW5ncy5cclxuICAgICAqIEB0b2RvIFJlbW92ZSByZXNwb25zaXZlIGNsYXNzZXMuIFdoeSBzaG91bGQgYWRhcHRpdmUgZGVzaWducyBiZSBicm91Z2h0IGludG8gSUU4P1xyXG4gICAgICogQHRvZG8gU3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcyBieSB1c2luZyBgbWF0Y2hNZWRpYWAgd291bGQgYmUgbmljZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB2aWV3cG9ydCA9IHRoaXMudmlld3BvcnQoKSxcclxuICAgICAgICAgICAgb3ZlcndyaXRlcyA9IHRoaXMub3B0aW9ucy5yZXNwb25zaXZlLFxyXG4gICAgICAgICAgICBtYXRjaCA9IC0xLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmICghb3ZlcndyaXRlcykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQuZWFjaChvdmVyd3JpdGVzLCBmdW5jdGlvbihicmVha3BvaW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnJlYWtwb2ludCA8PSB2aWV3cG9ydCAmJiBicmVha3BvaW50ID4gbWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IE51bWJlcihicmVha3BvaW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIG92ZXJ3cml0ZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZXR0aW5ncy5zdGFnZVBhZGRpbmcgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzLnN0YWdlUGFkZGluZyA9IHNldHRpbmdzLnN0YWdlUGFkZGluZygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5yZXNwb25zaXZlO1xyXG5cclxuICAgICAgICAgICAgLy8gcmVzcG9uc2l2ZSBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MucmVzcG9uc2l2ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJyxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKCcoJyArIHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLSlcXFxcUytcXFxccycsICdnJyksICckMScgKyBtYXRjaClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAnc2V0dGluZ3MnLCB2YWx1ZTogc2V0dGluZ3MgfSB9KTtcclxuICAgICAgICB0aGlzLl9icmVha3BvaW50ID0gbWF0Y2g7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnc2V0dGluZ3MnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2NoYW5nZWQnLCB7IHByb3BlcnR5OiB7IG5hbWU6ICdzZXR0aW5ncycsIHZhbHVlOiB0aGlzLnNldHRpbmdzIH0gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBvcHRpb24gbG9naWMgaWYgbmVjZXNzZXJ5LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9wdGlvbnNMb2dpYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmF1dG9XaWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnN0YWdlUGFkZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLm1lcmdlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFByZXBhcmVzIGFuIGl0ZW0gYmVmb3JlIGFkZC5cclxuICAgICAqIEB0b2RvIFJlbmFtZSBldmVudCBwYXJhbWV0ZXIgYGNvbnRlbnRgIHRvIGBpdGVtYC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtqUXVlcnl8SFRNTEVsZW1lbnR9IC0gVGhlIGl0ZW0gY29udGFpbmVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXBhcmUgPSBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy50cmlnZ2VyKCdwcmVwYXJlJywgeyBjb250ZW50OiBpdGVtIH0pO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50LmRhdGEpIHtcclxuICAgICAgICAgICAgZXZlbnQuZGF0YSA9ICQoJzwnICsgdGhpcy5zZXR0aW5ncy5pdGVtRWxlbWVudCArICcvPicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3ModGhpcy5vcHRpb25zLml0ZW1DbGFzcykuYXBwZW5kKGl0ZW0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3ByZXBhcmVkJywgeyBjb250ZW50OiBldmVudC5kYXRhIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZXZlbnQuZGF0YTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3LlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBpID0gMCxcclxuICAgICAgICAgICAgbiA9IHRoaXMuX3BpcGUubGVuZ3RoLFxyXG4gICAgICAgICAgICBmaWx0ZXIgPSAkLnByb3h5KGZ1bmN0aW9uKHApIHsgcmV0dXJuIHRoaXNbcF0gfSwgdGhpcy5faW52YWxpZGF0ZWQpLFxyXG4gICAgICAgICAgICBjYWNoZSA9IHt9O1xyXG5cclxuICAgICAgICB3aGlsZSAoaSA8IG4pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2ludmFsaWRhdGVkLmFsbCB8fCAkLmdyZXAodGhpcy5fcGlwZVtpXS5maWx0ZXIsIGZpbHRlcikubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcGlwZVtpXS5ydW4oY2FjaGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2ludmFsaWRhdGVkID0ge307XHJcblxyXG4gICAgICAgICF0aGlzLmlzKCd2YWxpZCcpICYmIHRoaXMuZW50ZXIoJ3ZhbGlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgd2lkdGggb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge093bC5XaWR0aH0gW2RpbWVuc2lvbj1Pd2wuV2lkdGguRGVmYXVsdF0gLSBUaGUgZGltZW5zaW9uIHRvIHJldHVybi5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIG9mIHRoZSB2aWV3IGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLndpZHRoID0gZnVuY3Rpb24oZGltZW5zaW9uKSB7XHJcbiAgICAgICAgZGltZW5zaW9uID0gZGltZW5zaW9uIHx8IE93bC5XaWR0aC5EZWZhdWx0O1xyXG4gICAgICAgIHN3aXRjaCAoZGltZW5zaW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgT3dsLldpZHRoLklubmVyOlxyXG4gICAgICAgICAgICBjYXNlIE93bC5XaWR0aC5PdXRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl93aWR0aCAtIHRoaXMuc2V0dGluZ3Muc3RhZ2VQYWRkaW5nICogMiArIHRoaXMuc2V0dGluZ3MubWFyZ2luO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWZyZXNoZXMgdGhlIGNhcm91c2VsIHByaW1hcmlseSBmb3IgYWRhcHRpdmUgcHVycG9zZXMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVmcmVzaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3JlZnJlc2hpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ3JlZnJlc2gnKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR1cCgpO1xyXG5cclxuICAgICAgICB0aGlzLm9wdGlvbnNMb2dpYygpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5yZWZyZXNoQ2xhc3MpO1xyXG5cclxuICAgICAgICB0aGlzLmxlYXZlKCdyZWZyZXNoaW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZWZyZXNoZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVGhyb3R0bGVkUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRpbWVyKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZVRpbWVyID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5faGFuZGxlcnMub25SZXNpemUsIHRoaXMuc2V0dGluZ3MucmVzcG9uc2l2ZVJlZnJlc2hSYXRlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2luZG93IGByZXNpemVgIGV2ZW50LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uUmVzaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3dpZHRoID09PSB0aGlzLiRlbGVtZW50LndpZHRoKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLiRlbGVtZW50LmlzKCc6dmlzaWJsZScpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZW50ZXIoJ3Jlc2l6aW5nJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRyaWdnZXIoJ3Jlc2l6ZScpLmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnd2lkdGgnKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ3Jlc2l6aW5nJyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZXNpemVkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVnaXN0ZXJzIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICogQHRvZG8gQ2hlY2sgYG1zUG9pbnRlckVuYWJsZWRgXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCArICcub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25UcmFuc2l0aW9uRW5kLCB0aGlzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5yZXNwb25zaXZlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0aGlzLm9uKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm1vdXNlRHJhZykge1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5vbignbW91c2Vkb3duLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ1N0YXJ0LCB0aGlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLm9uKCdkcmFnc3RhcnQub3dsLmNvcmUgc2VsZWN0c3RhcnQub3dsLmNvcmUnLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudG91Y2hEcmFnKXtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoc3RhcnQub3dsLmNvcmUnLCAkLnByb3h5KHRoaXMub25EcmFnU3RhcnQsIHRoaXMpKTtcclxuICAgICAgICAgICAgdGhpcy4kc3RhZ2Uub24oJ3RvdWNoY2FuY2VsLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ0VuZCwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGB0b3VjaHN0YXJ0YCBhbmQgYG1vdXNlZG93bmAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gSG9yaXpvbnRhbCBzd2lwZSB0aHJlc2hvbGQgYXMgb3B0aW9uXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub25EcmFnU3RhcnQgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBzdGFnZSA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChldmVudC53aGljaCA9PT0gMykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoJC5zdXBwb3J0LnRyYW5zZm9ybSkge1xyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuJHN0YWdlLmNzcygndHJhbnNmb3JtJykucmVwbGFjZSgvLipcXCh8XFwpfCAvZywgJycpLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgIHN0YWdlID0ge1xyXG4gICAgICAgICAgICAgICAgeDogc3RhZ2Vbc3RhZ2UubGVuZ3RoID09PSAxNiA/IDEyIDogNF0sXHJcbiAgICAgICAgICAgICAgICB5OiBzdGFnZVtzdGFnZS5sZW5ndGggPT09IDE2ID8gMTMgOiA1XVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy4kc3RhZ2UucG9zaXRpb24oKTtcclxuICAgICAgICAgICAgc3RhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnNldHRpbmdzLnJ0bCA/XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCArIHRoaXMuJHN0YWdlLndpZHRoKCkgLSB0aGlzLndpZHRoKCkgKyB0aGlzLnNldHRpbmdzLm1hcmdpbiA6XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2UubGVmdCxcclxuICAgICAgICAgICAgICAgIHk6IHN0YWdlLnRvcFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXMoJ2FuaW1hdGluZycpKSB7XHJcbiAgICAgICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0gPyB0aGlzLmFuaW1hdGUoc3RhZ2UueCkgOiB0aGlzLiRzdGFnZS5zdG9wKClcclxuICAgICAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdwb3NpdGlvbicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzLCBldmVudC50eXBlID09PSAnbW91c2Vkb3duJyk7XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQoMCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2RyYWcudGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcudGFyZ2V0ID0gJChldmVudC50YXJnZXQpO1xyXG4gICAgICAgIHRoaXMuX2RyYWcuc3RhZ2Uuc3RhcnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnN0YWdlLmN1cnJlbnQgPSBzdGFnZTtcclxuICAgICAgICB0aGlzLl9kcmFnLnBvaW50ZXIgPSB0aGlzLnBvaW50ZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignbW91c2V1cC5vd2wuY29yZSB0b3VjaGVuZC5vd2wuY29yZScsICQucHJveHkodGhpcy5vbkRyYWdFbmQsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub25lKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eShmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgICB2YXIgZGVsdGEgPSB0aGlzLmRpZmZlcmVuY2UodGhpcy5fZHJhZy5wb2ludGVyLCB0aGlzLnBvaW50ZXIoZXZlbnQpKTtcclxuXHJcbiAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdtb3VzZW1vdmUub3dsLmNvcmUgdG91Y2htb3ZlLm93bC5jb3JlJywgJC5wcm94eSh0aGlzLm9uRHJhZ01vdmUsIHRoaXMpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YS54KSA8IE1hdGguYWJzKGRlbHRhLnkpICYmIHRoaXMuaXMoJ3ZhbGlkJykpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2RyYWdnaW5nJyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignZHJhZycpO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2htb3ZlYCBhbmQgYG1vdXNlbW92ZWAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ01vdmUgPSBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBtaW5pbXVtID0gbnVsbCxcclxuICAgICAgICAgICAgbWF4aW11bSA9IG51bGwsXHJcbiAgICAgICAgICAgIHB1bGwgPSBudWxsLFxyXG4gICAgICAgICAgICBkZWx0YSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnBvaW50ZXIsIHRoaXMucG9pbnRlcihldmVudCkpLFxyXG4gICAgICAgICAgICBzdGFnZSA9IHRoaXMuZGlmZmVyZW5jZSh0aGlzLl9kcmFnLnN0YWdlLnN0YXJ0LCBkZWx0YSk7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5pcygnZHJhZ2dpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5sb29wKSB7XHJcbiAgICAgICAgICAgIG1pbmltdW0gPSB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuY29vcmRpbmF0ZXModGhpcy5tYXhpbXVtKCkgKyAxKSAtIG1pbmltdW07XHJcbiAgICAgICAgICAgIHN0YWdlLnggPSAoKChzdGFnZS54IC0gbWluaW11bSkgJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtKSArIG1pbmltdW07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1heGltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWluaW11bSgpKTtcclxuICAgICAgICAgICAgbWF4aW11bSA9IHRoaXMuc2V0dGluZ3MucnRsID8gdGhpcy5jb29yZGluYXRlcyh0aGlzLm1pbmltdW0oKSkgOiB0aGlzLmNvb3JkaW5hdGVzKHRoaXMubWF4aW11bSgpKTtcclxuICAgICAgICAgICAgcHVsbCA9IHRoaXMuc2V0dGluZ3MucHVsbERyYWcgPyAtMSAqIGRlbHRhLnggLyA1IDogMDtcclxuICAgICAgICAgICAgc3RhZ2UueCA9IE1hdGgubWF4KE1hdGgubWluKHN0YWdlLngsIG1pbmltdW0gKyBwdWxsKSwgbWF4aW11bSArIHB1bGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50ID0gc3RhZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0ZShzdGFnZS54KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBgdG91Y2hlbmRgIGFuZCBgbW91c2V1cGAgZXZlbnRzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHRvZG8gVGhyZXNob2xkIGZvciBjbGljayBldmVudFxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uRHJhZ0VuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGRlbHRhID0gdGhpcy5kaWZmZXJlbmNlKHRoaXMuX2RyYWcucG9pbnRlciwgdGhpcy5wb2ludGVyKGV2ZW50KSksXHJcbiAgICAgICAgICAgIHN0YWdlID0gdGhpcy5fZHJhZy5zdGFnZS5jdXJyZW50LFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSBkZWx0YS54ID4gMCBeIHRoaXMuc2V0dGluZ3MucnRsID8gJ2xlZnQnIDogJ3JpZ2h0JztcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub2ZmKCcub3dsLmNvcmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKTtcclxuXHJcbiAgICAgICAgaWYgKGRlbHRhLnggIT09IDAgJiYgdGhpcy5pcygnZHJhZ2dpbmcnKSB8fCAhdGhpcy5pcygndmFsaWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkKHRoaXMuc2V0dGluZ3MuZHJhZ0VuZFNwZWVkIHx8IHRoaXMuc2V0dGluZ3Muc21hcnRTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCh0aGlzLmNsb3Nlc3Qoc3RhZ2UueCwgZGVsdGEueCAhPT0gMCA/IGRpcmVjdGlvbiA6IHRoaXMuX2RyYWcuZGlyZWN0aW9uKSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2RyYWcuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlbHRhLngpID4gMyB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHRoaXMuX2RyYWcudGltZSA+IDMwMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZHJhZy50YXJnZXQub25lKCdjbGljay5vd2wuY29yZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXMoJ2RyYWdnaW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5sZWF2ZSgnZHJhZ2dpbmcnKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXIoJ2RyYWdnZWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0gZm9yIGEgY29vcmRpbmF0ZS5cclxuICAgICAqIEB0b2RvIFNldHRpbmcgYGZyZWVEcmFnYCBtYWtlcyBgY2xvc2VzdGAgbm90IHJldXNhYmxlLiBTZWUgIzE2NS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjb29yZGluYXRlIC0gVGhlIGNvb3JkaW5hdGUgaW4gcGl4ZWwuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGlyZWN0aW9uIC0gVGhlIGRpcmVjdGlvbiB0byBjaGVjayBmb3IgdGhlIGNsb3Nlc3QgaXRlbS4gRXRoZXIgYGxlZnRgIG9yIGByaWdodGAuXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjbG9zZXN0IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IC0xLFxyXG4gICAgICAgICAgICBwdWxsID0gMzAsXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCgpLFxyXG4gICAgICAgICAgICBjb29yZGluYXRlcyA9IHRoaXMuY29vcmRpbmF0ZXMoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmZyZWVEcmFnKSB7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGNsb3Nlc3QgaXRlbVxyXG4gICAgICAgICAgICAkLmVhY2goY29vcmRpbmF0ZXMsICQucHJveHkoZnVuY3Rpb24oaW5kZXgsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBvbiBhIGxlZnQgcHVsbCwgY2hlY2sgb24gY3VycmVudCBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHB1bGwgJiYgY29vcmRpbmF0ZSA8IHZhbHVlICsgcHVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb24gYSByaWdodCBwdWxsLCBjaGVjayBvbiBwcmV2aW91cyBtYWluLXBhZ2UtcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIGRvIHNvLCBzdWJ0cmFjdCB3aWR0aCBmcm9tIHZhbHVlIGFuZCBzZXQgcG9zaXRpb24gPSBtYWluLXBhZ2UtcGFnZSArIDFcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncmlnaHQnICYmIGNvb3JkaW5hdGUgPiB2YWx1ZSAtIHdpZHRoIC0gcHVsbCAmJiBjb29yZGluYXRlIDwgdmFsdWUgLSB3aWR0aCArIHB1bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIHZhbHVlKVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXMub3AoY29vcmRpbmF0ZSwgJz4nLCBjb29yZGluYXRlc1tpbmRleCArIDFdIHx8IHZhbHVlIC0gd2lkdGgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBkaXJlY3Rpb24gPT09ICdsZWZ0JyA/IGluZGV4ICsgMSA6IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uID09PSAtMTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgLy8gbm9uIGxvb3AgYm91bmRyaWVzXHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wKGNvb3JkaW5hdGUsICc+JywgY29vcmRpbmF0ZXNbdGhpcy5taW5pbXVtKCldKSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb29yZGluYXRlID0gdGhpcy5taW5pbXVtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcChjb29yZGluYXRlLCAnPCcsIGNvb3JkaW5hdGVzW3RoaXMubWF4aW11bSgpXSkpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29vcmRpbmF0ZSA9IHRoaXMubWF4aW11bSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQW5pbWF0ZXMgdGhlIHN0YWdlLlxyXG4gICAgICogQHRvZG8gIzI3MFxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvb3JkaW5hdGUgLSBUaGUgY29vcmRpbmF0ZSBpbiBwaXhlbHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uKGNvb3JkaW5hdGUpIHtcclxuICAgICAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuc3BlZWQoKSA+IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaXMoJ2FuaW1hdGluZycpICYmIHRoaXMub25UcmFuc2l0aW9uRW5kKCk7XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3RyYW5zbGF0ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCQuc3VwcG9ydC50cmFuc2Zvcm0zZCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlM2QoJyArIGNvb3JkaW5hdGUgKyAncHgsMHB4LDBweCknLFxyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogKHRoaXMuc3BlZWQoKSAvIDEwMDApICsgJ3MnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYW5pbWF0ZSkge1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgIGxlZnQ6IGNvb3JkaW5hdGUgKyAncHgnXHJcbiAgICAgICAgICAgIH0sIHRoaXMuc3BlZWQoKSwgdGhpcy5zZXR0aW5ncy5mYWxsYmFja0Vhc2luZywgJC5wcm94eSh0aGlzLm9uVHJhbnNpdGlvbkVuZCwgdGhpcykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJHN0YWdlLmNzcyh7XHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBjb29yZGluYXRlICsgJ3B4J1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGNhcm91c2VsIGlzIGluIGEgc3BlY2lmaWMgc3RhdGUgb3Igbm90LlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0YXRlIC0gVGhlIHN0YXRlIHRvIGNoZWNrLlxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IC0gVGhlIGZsYWcgd2hpY2ggaW5kaWNhdGVzIGlmIHRoZSBjYXJvdXNlbCBpcyBidXN5LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzLmN1cnJlbnRbc3RhdGVdICYmIHRoaXMuX3N0YXRlcy5jdXJyZW50W3N0YXRlXSA+IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWJzb2x1dGUgcG9zaXRpb24gb2YgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIG5ldyBhYnNvbHV0ZSBwb3NpdGlvbiBvciBub3RoaW5nIHRvIGxlYXZlIGl0IHVuY2hhbmdlZC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2N1cnJlbnQgIT09IHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBldmVudCA9IHRoaXMudHJpZ2dlcignY2hhbmdlJywgeyBwcm9wZXJ0eTogeyBuYW1lOiAncG9zaXRpb24nLCB2YWx1ZTogcG9zaXRpb24gfSB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUoZXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBwb3NpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW52YWxpZGF0ZSgncG9zaXRpb24nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignY2hhbmdlZCcsIHsgcHJvcGVydHk6IHsgbmFtZTogJ3Bvc2l0aW9uJywgdmFsdWU6IHRoaXMuX2N1cnJlbnQgfSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9jdXJyZW50O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWRhdGVzIHRoZSBnaXZlbiBwYXJ0IG9mIHRoZSB1cGRhdGUgcm91dGluZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcGFydF0gLSBUaGUgcGFydCB0byBpbnZhbGlkYXRlLlxyXG4gICAgICogQHJldHVybnMge0FycmF5LjxTdHJpbmc+fSAtIFRoZSBpbnZhbGlkYXRlZCBwYXJ0cy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pbnZhbGlkYXRlID0gZnVuY3Rpb24ocGFydCkge1xyXG4gICAgICAgIGlmICgkLnR5cGUocGFydCkgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ludmFsaWRhdGVkW3BhcnRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pcygndmFsaWQnKSAmJiB0aGlzLmxlYXZlKCd2YWxpZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJC5tYXAodGhpcy5faW52YWxpZGF0ZWQsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIGkgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbiBvZiB0aGUgY3VycmVudCBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBuZXcgaXRlbS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbik7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gMDtcclxuICAgICAgICB0aGlzLl9jdXJyZW50ID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgIHRoaXMuc3VwcHJlc3MoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGUodGhpcy5jb29yZGluYXRlcyhwb3NpdGlvbikpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbGVhc2UoWyAndHJhbnNsYXRlJywgJ3RyYW5zbGF0ZWQnIF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE5vcm1hbGl6ZXMgYW4gYWJzb2x1dGUgb3IgYSByZWxhdGl2ZSBwb3NpdGlvbiBvZiBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIG9yIHJlbGF0aXZlIHBvc2l0aW9uIHRvIG5vcm1hbGl6ZS5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdGhlIGdpdmVuIHBvc2l0aW9uIGlzIHJlbGF0aXZlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtOdW1iZXJ9IC0gVGhlIG5vcm1hbGl6ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24ocG9zaXRpb24sIHJlbGF0aXZlKSB7XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG0gPSByZWxhdGl2ZSA/IDAgOiB0aGlzLl9jbG9uZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuaXNOdW1lcmljKHBvc2l0aW9uKSB8fCBuIDwgMSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uIDwgMCB8fCBwb3NpdGlvbiA+PSBuICsgbSkge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICgocG9zaXRpb24gLSBtIC8gMikgJSBuICsgbikgJSBuICsgbSAvIDI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29udmVydHMgYW4gYWJzb2x1dGUgcG9zaXRpb24gb2YgYW4gaXRlbSBpbnRvIGEgcmVsYXRpdmUgb25lLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIHRvIGNvbnZlcnQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjb252ZXJ0ZWQgcG9zaXRpb24uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVsYXRpdmUgPSBmdW5jdGlvbihwb3NpdGlvbikge1xyXG4gICAgICAgIHBvc2l0aW9uIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgbWF4aW11bSBwb3NpdGlvbiBmb3IgdGhlIGN1cnJlbnQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3JlbGF0aXZlPWZhbHNlXSAtIFdoZXRoZXIgdG8gcmV0dXJuIGFuIGFic29sdXRlIHBvc2l0aW9uIG9yIGEgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm1heGltdW0gPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xyXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9jb29yZGluYXRlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLFxyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCxcclxuICAgICAgICAgICAgZWxlbWVudFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubG9vcCkge1xyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIgKyB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLm1lcmdlKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5faXRlbXMubGVuZ3RoO1xyXG4gICAgICAgICAgICByZWNpcHJvY2FsSXRlbXNXaWR0aCA9IHRoaXMuX2l0ZW1zWy0taXRlcmF0b3JdLndpZHRoKCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnRXaWR0aCA9IHRoaXMuJGVsZW1lbnQud2lkdGgoKTtcclxuICAgICAgICAgICAgd2hpbGUgKGl0ZXJhdG9yLS0pIHtcclxuICAgICAgICAgICAgICAgIHJlY2lwcm9jYWxJdGVtc1dpZHRoICs9IHRoaXMuX2l0ZW1zW2l0ZXJhdG9yXS53aWR0aCgpICsgdGhpcy5zZXR0aW5ncy5tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjaXByb2NhbEl0ZW1zV2lkdGggPiBlbGVtZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXhpbXVtID0gaXRlcmF0b3IgKyAxO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuY2VudGVyKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gPSB0aGlzLl9pdGVtcy5sZW5ndGggLSBzZXR0aW5ncy5pdGVtcztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWxhdGl2ZSkge1xyXG4gICAgICAgICAgICBtYXhpbXVtIC09IHRoaXMuX2Nsb25lcy5sZW5ndGggLyAyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1heGltdW0sIDApO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIG1pbmltdW0gcG9zaXRpb24gZm9yIHRoZSBjdXJyZW50IGl0ZW0uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyZWxhdGl2ZT1mYWxzZV0gLSBXaGV0aGVyIHRvIHJldHVybiBhbiBhYnNvbHV0ZSBwb3NpdGlvbiBvciBhIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5taW5pbXVtID0gZnVuY3Rpb24ocmVsYXRpdmUpIHtcclxuICAgICAgICByZXR1cm4gcmVsYXRpdmUgPyAwIDogdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDI7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhbiBpdGVtIGF0IHRoZSBzcGVjaWZpZWQgcmVsYXRpdmUgcG9zaXRpb24uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Bvc2l0aW9uXSAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEByZXR1cm4ge2pRdWVyeXxBcnJheS48alF1ZXJ5Pn0gLSBUaGUgaXRlbSBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gb3IgYWxsIGl0ZW1zIGlmIG5vIHBvc2l0aW9uIHdhcyBnaXZlbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5pdGVtcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2l0ZW1zLnNsaWNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXRlbXNbcG9zaXRpb25dO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHJlbGF0aXZlIHBvc2l0aW9uLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJuIHtqUXVlcnl8QXJyYXkuPGpRdWVyeT59IC0gVGhlIGl0ZW0gYXQgdGhlIGdpdmVuIHBvc2l0aW9uIG9yIGFsbCBpdGVtcyBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubWVyZ2VycyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lcmdlcnMuc2xpY2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBvc2l0aW9uID0gdGhpcy5ub3JtYWxpemUocG9zaXRpb24sIHRydWUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tZXJnZXJzW3Bvc2l0aW9uXTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBhYnNvbHV0ZSBwb3NpdGlvbnMgb2YgY2xvbmVzIGZvciBhbiBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbl0gLSBUaGUgcmVsYXRpdmUgcG9zaXRpb24gb2YgdGhlIGl0ZW0uXHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXkuPE51bWJlcj59IC0gVGhlIGFic29sdXRlIHBvc2l0aW9ucyBvZiBjbG9uZXMgZm9yIHRoZSBpdGVtIG9yIGFsbCBpZiBubyBwb3NpdGlvbiB3YXMgZ2l2ZW4uXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuY2xvbmVzID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgb2RkID0gdGhpcy5fY2xvbmVzLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIGV2ZW4gPSBvZGQgKyB0aGlzLl9pdGVtcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIG1hcCA9IGZ1bmN0aW9uKGluZGV4KSB7IHJldHVybiBpbmRleCAlIDIgPT09IDAgPyBldmVuICsgaW5kZXggLyAyIDogb2RkIC0gKGluZGV4ICsgMSkgLyAyIH07XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIG1hcChpKSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkLm1hcCh0aGlzLl9jbG9uZXMsIGZ1bmN0aW9uKHYsIGkpIHsgcmV0dXJuIHYgPT09IHBvc2l0aW9uID8gbWFwKGkpIDogbnVsbCB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMgb3Igbm90aGluZyB0byBsZWF2ZSBpdCB1bmNoYW5nZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfSAtIFRoZSBjdXJyZW50IGFuaW1hdGlvbiBzcGVlZCBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3BlZWQgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIGlmIChzcGVlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY29vcmRpbmF0ZSBvZiBhbiBpdGVtLlxyXG4gICAgICogQHRvZG8gVGhlIG5hbWUgb2YgdGhpcyBtZXRob2QgaXMgbWlzc2xlYW5kaW5nLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIHdpdGhpbiBgbWluaW11bSgpYCBhbmQgYG1heGltdW0oKWAuXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfEFycmF5LjxOdW1iZXI+fSAtIFRoZSBjb29yZGluYXRlIG9mIHRoZSBpdGVtIGluIHBpeGVsIG9yIGFsbCBjb29yZGluYXRlcy5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5jb29yZGluYXRlcyA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSAxLFxyXG4gICAgICAgICAgICBuZXdQb3NpdGlvbiA9IHBvc2l0aW9uIC0gMSxcclxuICAgICAgICAgICAgY29vcmRpbmF0ZTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICQubWFwKHRoaXMuX2Nvb3JkaW5hdGVzLCAkLnByb3h5KGZ1bmN0aW9uKGNvb3JkaW5hdGUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlcyhpbmRleCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmNlbnRlcikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5ydGwpIHtcclxuICAgICAgICAgICAgICAgIG11bHRpcGxpZXIgPSAtMTtcclxuICAgICAgICAgICAgICAgIG5ld1Bvc2l0aW9uID0gcG9zaXRpb24gKyAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbcG9zaXRpb25dO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlICs9ICh0aGlzLndpZHRoKCkgLSBjb29yZGluYXRlICsgKHRoaXMuX2Nvb3JkaW5hdGVzW25ld1Bvc2l0aW9uXSB8fCAwKSkgLyAyICogbXVsdGlwbGllcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb29yZGluYXRlID0gdGhpcy5fY29vcmRpbmF0ZXNbbmV3UG9zaXRpb25dIHx8IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb29yZGluYXRlID0gTWF0aC5jZWlsKGNvb3JkaW5hdGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY29vcmRpbmF0ZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBzcGVlZCBmb3IgYSB0cmFuc2xhdGlvbi5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmcm9tIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBzdGFydCBpdGVtLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSB0YXJnZXQgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZmFjdG9yPXVuZGVmaW5lZF0gLSBUaGUgdGltZSBmYWN0b3IgaW4gbWlsbGlzZWNvbmRzLlxyXG4gICAgICogQHJldHVybnMge051bWJlcn0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2xhdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kdXJhdGlvbiA9IGZ1bmN0aW9uKGZyb20sIHRvLCBmYWN0b3IpIHtcclxuICAgICAgICBpZiAoZmFjdG9yID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KE1hdGguYWJzKHRvIC0gZnJvbSksIDEpLCA2KSAqIE1hdGguYWJzKChmYWN0b3IgfHwgdGhpcy5zZXR0aW5ncy5zbWFydFNwZWVkKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaXRlbS5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS50byA9IGZ1bmN0aW9uKHBvc2l0aW9uLCBzcGVlZCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5jdXJyZW50KCksXHJcbiAgICAgICAgICAgIHJldmVydCA9IG51bGwsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlID0gcG9zaXRpb24gLSB0aGlzLnJlbGF0aXZlKGN1cnJlbnQpLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAoZGlzdGFuY2UgPiAwKSAtIChkaXN0YW5jZSA8IDApLFxyXG4gICAgICAgICAgICBpdGVtcyA9IHRoaXMuX2l0ZW1zLmxlbmd0aCxcclxuICAgICAgICAgICAgbWluaW11bSA9IHRoaXMubWluaW11bSgpLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5tYXhpbXVtKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvb3ApIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLnJld2luZCAmJiBNYXRoLmFicyhkaXN0YW5jZSkgPiBpdGVtcyAvIDIpIHtcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlICs9IGRpcmVjdGlvbiAqIC0xICogaXRlbXM7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY3VycmVudCArIGRpc3RhbmNlO1xyXG4gICAgICAgICAgICByZXZlcnQgPSAoKHBvc2l0aW9uIC0gbWluaW11bSkgJSBpdGVtcyArIGl0ZW1zKSAlIGl0ZW1zICsgbWluaW11bTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXZlcnQgIT09IHBvc2l0aW9uICYmIHJldmVydCAtIGRpc3RhbmNlIDw9IG1heGltdW0gJiYgcmV2ZXJ0IC0gZGlzdGFuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmV2ZXJ0IC0gZGlzdGFuY2U7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHJldmVydDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXQoY3VycmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MucmV3aW5kKSB7XHJcbiAgICAgICAgICAgIG1heGltdW0gKz0gMTtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSAocG9zaXRpb24gJSBtYXhpbXVtICsgbWF4aW11bSkgJSBtYXhpbXVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gTWF0aC5tYXgobWluaW11bSwgTWF0aC5taW4obWF4aW11bSwgcG9zaXRpb24pKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3BlZWQodGhpcy5kdXJhdGlvbihjdXJyZW50LCBwb3NpdGlvbiwgc3BlZWQpKTtcclxuICAgICAgICB0aGlzLmN1cnJlbnQocG9zaXRpb24pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIG5leHQgaXRlbS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oc3BlZWQpIHtcclxuICAgICAgICBzcGVlZCA9IHNwZWVkIHx8IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudG8odGhpcy5yZWxhdGl2ZSh0aGlzLmN1cnJlbnQoKSkgKyAxLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBwcmV2aW91cyBpdGVtLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgdGltZSBpbiBtaWxsaXNlY29uZHMgZm9yIHRoZSB0cmFuc2l0aW9uLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbihzcGVlZCkge1xyXG4gICAgICAgIHNwZWVkID0gc3BlZWQgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy50byh0aGlzLnJlbGF0aXZlKHRoaXMuY3VycmVudCgpKSAtIDEsIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIHRoZSBlbmQgb2YgYW4gYW5pbWF0aW9uLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcblxyXG4gICAgICAgIC8vIGlmIGNzczIgYW5pbWF0aW9uIHRoZW4gZXZlbnQgb2JqZWN0IGlzIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmIChldmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2F0Y2ggb25seSBvd2wtc3RhZ2UgdHJhbnNpdGlvbkVuZCBldmVudFxyXG4gICAgICAgICAgICBpZiAoKGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50Lm9yaWdpbmFsVGFyZ2V0KSAhPT0gdGhpcy4kc3RhZ2UuZ2V0KDApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGVhdmUoJ2FuaW1hdGluZycpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlcigndHJhbnNsYXRlZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdmlld3BvcnQgd2lkdGguXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IC0gVGhlIHdpZHRoIGluIHBpeGVsLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnZpZXdwb3J0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHdpZHRoO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVzcG9uc2l2ZUJhc2VFbGVtZW50ICE9PSB3aW5kb3cpIHtcclxuICAgICAgICAgICAgd2lkdGggPSAkKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQmFzZUVsZW1lbnQpLndpZHRoKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCkge1xyXG4gICAgICAgICAgICB3aWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NhbiBub3QgZGV0ZWN0IHZpZXdwb3J0IHdpZHRoLicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgY29udGVudC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8alF1ZXJ5fFN0cmluZ30gY29udGVudCAtIFRoZSBuZXcgY29udGVudC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5yZXBsYWNlID0gZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmVtcHR5KCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMgPSBbXTtcclxuXHJcbiAgICAgICAgaWYgKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgY29udGVudCA9IChjb250ZW50IGluc3RhbmNlb2YgalF1ZXJ5KSA/IGNvbnRlbnQgOiAkKGNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MubmVzdGVkSXRlbVNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LmZpbmQoJy4nICsgdGhpcy5zZXR0aW5ncy5uZXN0ZWRJdGVtU2VsZWN0b3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGVudC5maWx0ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAxO1xyXG4gICAgICAgIH0pLmVhY2goJC5wcm94eShmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBpdGVtID0gdGhpcy5wcmVwYXJlKGl0ZW0pO1xyXG4gICAgICAgICAgICB0aGlzLiRzdGFnZS5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMucHVzaChpdGVtLmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2V0KHRoaXMuaXNOdW1lcmljKHRoaXMuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbikgPyB0aGlzLnNldHRpbmdzLnN0YXJ0UG9zaXRpb24gOiAwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCdpdGVtcycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgYW4gaXRlbS5cclxuICAgICAqIEB0b2RvIFVzZSBgaXRlbWAgaW5zdGVhZCBvZiBgY29udGVudGAgZm9yIHRoZSBldmVudCBhcmd1bWVudHMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fGpRdWVyeXxTdHJpbmd9IGNvbnRlbnQgLSBUaGUgaXRlbSBjb250ZW50IHRvIGFkZC5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb25dIC0gVGhlIHJlbGF0aXZlIHBvc2l0aW9uIGF0IHdoaWNoIHRvIGluc2VydCB0aGUgaXRlbSBvdGhlcndpc2UgdGhlIGl0ZW0gd2lsbCBiZSBhZGRlZCB0byB0aGUgZW5kLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGNvbnRlbnQsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLnJlbGF0aXZlKHRoaXMuX2N1cnJlbnQpO1xyXG5cclxuICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWQgPyB0aGlzLl9pdGVtcy5sZW5ndGggOiB0aGlzLm5vcm1hbGl6ZShwb3NpdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZW50IDogJChjb250ZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdhZGQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuXHJcbiAgICAgICAgY29udGVudCA9IHRoaXMucHJlcGFyZShjb250ZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCB8fCBwb3NpdGlvbiA9PT0gdGhpcy5faXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCA9PT0gMCAmJiB0aGlzLiRzdGFnZS5hcHBlbmQoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLmxlbmd0aCAhPT0gMCAmJiB0aGlzLl9pdGVtc1twb3NpdGlvbiAtIDFdLmFmdGVyKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pdGVtcy5wdXNoKGNvbnRlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLl9tZXJnZXJzLnB1c2goY29udGVudC5maW5kKCdbZGF0YS1tZXJnZV0nKS5hZGRCYWNrKCdbZGF0YS1tZXJnZV0nKS5hdHRyKCdkYXRhLW1lcmdlJykgKiAxIHx8IDEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXS5iZWZvcmUoY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2l0ZW1zLnNwbGljZShwb3NpdGlvbiwgMCwgY29udGVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuX21lcmdlcnMuc3BsaWNlKHBvc2l0aW9uLCAwLCBjb250ZW50LmZpbmQoJ1tkYXRhLW1lcmdlXScpLmFkZEJhY2soJ1tkYXRhLW1lcmdlXScpLmF0dHIoJ2RhdGEtbWVyZ2UnKSAqIDEgfHwgMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1tjdXJyZW50XSAmJiB0aGlzLnJlc2V0KHRoaXMuX2l0ZW1zW2N1cnJlbnRdLmluZGV4KCkpO1xyXG5cclxuICAgICAgICB0aGlzLmludmFsaWRhdGUoJ2l0ZW1zJyk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlcignYWRkZWQnLCB7IGNvbnRlbnQ6IGNvbnRlbnQsIHBvc2l0aW9uOiBwb3NpdGlvbiB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFuIGl0ZW0gYnkgaXRzIHBvc2l0aW9uLlxyXG4gICAgICogQHRvZG8gVXNlIGBpdGVtYCBpbnN0ZWFkIG9mIGBjb250ZW50YCBmb3IgdGhlIGV2ZW50IGFyZ3VtZW50cy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwb3NpdGlvbiAtIFRoZSByZWxhdGl2ZSBwb3NpdGlvbiBvZiB0aGUgaXRlbSB0byByZW1vdmUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICBwb3NpdGlvbiA9IHRoaXMubm9ybWFsaXplKHBvc2l0aW9uLCB0cnVlKTtcclxuXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmUnLCB7IGNvbnRlbnQ6IHRoaXMuX2l0ZW1zW3Bvc2l0aW9uXSwgcG9zaXRpb246IHBvc2l0aW9uIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9pdGVtc1twb3NpdGlvbl0ucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5faXRlbXMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcclxuICAgICAgICB0aGlzLl9tZXJnZXJzLnNwbGljZShwb3NpdGlvbiwgMSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW52YWxpZGF0ZSgnaXRlbXMnKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyKCdyZW1vdmVkJywgeyBjb250ZW50OiBudWxsLCBwb3NpdGlvbjogcG9zaXRpb24gfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUHJlbG9hZHMgaW1hZ2VzIHdpdGggYXV0byB3aWR0aC5cclxuICAgICAqIEB0b2RvIFJlcGxhY2UgYnkgYSBtb3JlIGdlbmVyaWMgYXBwcm9hY2hcclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wcmVsb2FkQXV0b1dpZHRoSW1hZ2VzID0gZnVuY3Rpb24oaW1hZ2VzKSB7XHJcbiAgICAgICAgaW1hZ2VzLmVhY2goJC5wcm94eShmdW5jdGlvbihpLCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50ZXIoJ3ByZS1sb2FkaW5nJyk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAkKG5ldyBJbWFnZSgpKS5vbmUoJ2xvYWQnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cignc3JjJywgZS50YXJnZXQuc3JjKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlYXZlKCdwcmUtbG9hZGluZycpO1xyXG4gICAgICAgICAgICAgICAgIXRoaXMuaXMoJ3ByZS1sb2FkaW5nJykgJiYgIXRoaXMuaXMoJ2luaXRpYWxpemluZycpICYmIHRoaXMucmVmcmVzaCgpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSkuYXR0cignc3JjJywgZWxlbWVudC5hdHRyKCdzcmMnKSB8fCBlbGVtZW50LmF0dHIoJ2RhdGEtc3JjJykgfHwgZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBjYXJvdXNlbC5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCcub3dsLmNvcmUnKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5vZmYoJy5vd2wuY29yZScpO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9mZignLm93bC5jb3JlJyk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXNpemVUaW1lcik7XHJcbiAgICAgICAgICAgIHRoaXMub2ZmKHdpbmRvdywgJ3Jlc2l6ZScsIHRoaXMuX2hhbmRsZXJzLm9uVGhyb3R0bGVkUmVzaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5fcGx1Z2lucykge1xyXG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5zW2ldLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCcuY2xvbmVkJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuJHN0YWdlLnVud3JhcCgpO1xyXG4gICAgICAgIHRoaXMuJHN0YWdlLmNoaWxkcmVuKCkuY29udGVudHMoKS51bndyYXAoKTtcclxuICAgICAgICB0aGlzLiRzdGFnZS5jaGlsZHJlbigpLnVud3JhcCgpO1xyXG5cclxuICAgICAgICB0aGlzLiRlbGVtZW50XHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucmVmcmVzaENsYXNzKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmxvYWRpbmdDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5sb2FkZWRDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5ydGxDbGFzcylcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5kcmFnQ2xhc3MpXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuZ3JhYkNsYXNzKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCB0aGlzLiRlbGVtZW50LmF0dHIoJ2NsYXNzJykucmVwbGFjZShuZXcgUmVnRXhwKHRoaXMub3B0aW9ucy5yZXNwb25zaXZlQ2xhc3MgKyAnLVxcXFxTK1xcXFxzJywgJ2cnKSwgJycpKVxyXG4gICAgICAgICAgICAucmVtb3ZlRGF0YSgnb3dsLmNhcm91c2VsJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogT3BlcmF0b3JzIHRvIGNhbGN1bGF0ZSByaWdodC10by1sZWZ0IGFuZCBsZWZ0LXRvLXJpZ2h0LlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFthXSAtIFRoZSBsZWZ0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb10gLSBUaGUgb3BlcmF0b3IuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JdIC0gVGhlIHJpZ2h0IHNpZGUgb3BlcmFuZC5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5vcCA9IGZ1bmN0aW9uKGEsIG8sIGIpIHtcclxuICAgICAgICB2YXIgcnRsID0gdGhpcy5zZXR0aW5ncy5ydGw7XHJcbiAgICAgICAgc3dpdGNoIChvKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJzwnOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPiBiIDogYSA8IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz4nOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJ0bCA/IGEgPCBiIDogYSA+IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJz49JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhIDw9IGIgOiBhID49IGI7XHJcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcclxuICAgICAgICAgICAgICAgIHJldHVybiBydGwgPyBhID49IGIgOiBhIDw9IGI7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoZXMgdG8gYW4gaW50ZXJuYWwgZXZlbnQuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IC0gVGhlIGV2ZW50IHNvdXJjZS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudCAtIFRoZSBldmVudCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgLSBUaGUgZXZlbnQgaGFuZGxlciB0byBhdHRhY2guXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhcHR1cmUgLSBXZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBoYW5kbGVkIGF0IHRoZSBjYXB0dXJpbmcgcGhhc2Ugb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuYXR0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGV0YWNoZXMgZnJvbSBhbiBpbnRlcm5hbCBldmVudC5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgLSBUaGUgZXZlbnQgc291cmNlLlxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50IC0gVGhlIGV2ZW50IG5hbWUuXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciAtIFRoZSBhdHRhY2hlZCBldmVudCBoYW5kbGVyIHRvIGRldGFjaC5cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gY2FwdHVyZSAtIFdldGhlciB0aGUgYXR0YWNoZWQgZXZlbnQgaGFuZGxlciB3YXMgcmVnaXN0ZXJlZCBhcyBhIGNhcHR1cmluZyBsaXN0ZW5lciBvciBub3QuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBjYXB0dXJlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnQuZGV0YWNoRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVHJpZ2dlcnMgYSBwdWJsaWMgZXZlbnQuXHJcbiAgICAgKiBAdG9kbyBSZW1vdmUgYHN0YXR1c2AsIGByZWxhdGVkVGFyZ2V0YCBzaG91bGQgYmUgdXNlZCBpbnN0ZWFkLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSBUaGUgZXZlbnQgbmFtZS5cclxuICAgICAqIEBwYXJhbSB7Kn0gW2RhdGE9bnVsbF0gLSBUaGUgZXZlbnQgZGF0YS5cclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbbmFtZXNwYWNlPWNhcm91c2VsXSAtIFRoZSBldmVudCBuYW1lc3BhY2UuXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3N0YXRlXSAtIFRoZSBzdGF0ZSB3aGljaCBpcyBhc3NvY2lhdGVkIHdpdGggdGhlIGV2ZW50LlxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZW50ZXI9ZmFsc2VdIC0gSW5kaWNhdGVzIGlmIHRoZSBjYWxsIGVudGVycyB0aGUgc3BlY2lmaWVkIHN0YXRlIG9yIG5vdC5cclxuICAgICAqIEByZXR1cm5zIHtFdmVudH0gLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihuYW1lLCBkYXRhLCBuYW1lc3BhY2UsIHN0YXRlLCBlbnRlcikge1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSB7XHJcbiAgICAgICAgICAgIGl0ZW06IHsgY291bnQ6IHRoaXMuX2l0ZW1zLmxlbmd0aCwgaW5kZXg6IHRoaXMuY3VycmVudCgpIH1cclxuICAgICAgICB9LCBoYW5kbGVyID0gJC5jYW1lbENhc2UoXHJcbiAgICAgICAgICAgICQuZ3JlcChbICdvbicsIG5hbWUsIG5hbWVzcGFjZSBdLCBmdW5jdGlvbih2KSB7IHJldHVybiB2IH0pXHJcbiAgICAgICAgICAgICAgICAuam9pbignLScpLnRvTG93ZXJDYXNlKClcclxuICAgICAgICApLCBldmVudCA9ICQuRXZlbnQoXHJcbiAgICAgICAgICAgIFsgbmFtZSwgJ293bCcsIG5hbWVzcGFjZSB8fCAnY2Fyb3VzZWwnIF0uam9pbignLicpLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHsgcmVsYXRlZFRhcmdldDogdGhpcyB9LCBzdGF0dXMsIGRhdGEpXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9zdXByZXNzW25hbWVdKSB7XHJcbiAgICAgICAgICAgICQuZWFjaCh0aGlzLl9wbHVnaW5zLCBmdW5jdGlvbihuYW1lLCBwbHVnaW4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ub25UcmlnZ2VyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm9uVHJpZ2dlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcih7IHR5cGU6IE93bC5UeXBlLkV2ZW50LCBuYW1lOiBuYW1lIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MgJiYgdHlwZW9mIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NbaGFuZGxlcl0uY2FsbCh0aGlzLCBldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnRlcnMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuZW50ZXIgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLmN1cnJlbnRbbmFtZV0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXSsrO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBMZWF2ZXMgYSBzdGF0ZS5cclxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIHN0YXRlIG5hbWUuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJC5lYWNoKFsgbmFtZSBdLmNvbmNhdCh0aGlzLl9zdGF0ZXMudGFnc1tuYW1lXSB8fCBbXSksICQucHJveHkoZnVuY3Rpb24oaSwgbmFtZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGF0ZXMuY3VycmVudFtuYW1lXS0tO1xyXG4gICAgICAgIH0sIHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlcnMgYW4gZXZlbnQgb3Igc3RhdGUuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IC0gVGhlIGV2ZW50IG9yIHN0YXRlIHRvIHJlZ2lzdGVyLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlZ2lzdGVyID0gZnVuY3Rpb24ob2JqZWN0KSB7XHJcbiAgICAgICAgaWYgKG9iamVjdC50eXBlID09PSBPd2wuVHlwZS5FdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoISQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCEkLmV2ZW50LnNwZWNpYWxbb2JqZWN0Lm5hbWVdLm93bCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kZWZhdWx0ID0gJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5fZGVmYXVsdDtcclxuICAgICAgICAgICAgICAgICQuZXZlbnQuc3BlY2lhbFtvYmplY3QubmFtZV0uX2RlZmF1bHQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kZWZhdWx0ICYmIF9kZWZhdWx0LmFwcGx5ICYmICghZS5uYW1lc3BhY2UgfHwgZS5uYW1lc3BhY2UuaW5kZXhPZignb3dsJykgPT09IC0xKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2RlZmF1bHQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUubmFtZXNwYWNlICYmIGUubmFtZXNwYWNlLmluZGV4T2YoJ293bCcpID4gLTE7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJC5ldmVudC5zcGVjaWFsW29iamVjdC5uYW1lXS5vd2wgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QudHlwZSA9PT0gT3dsLlR5cGUuU3RhdGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9IG9iamVjdC50YWdzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdID0gdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdLmNvbmNhdChvYmplY3QudGFncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXRlcy50YWdzW29iamVjdC5uYW1lXSA9ICQuZ3JlcCh0aGlzLl9zdGF0ZXMudGFnc1tvYmplY3QubmFtZV0sICQucHJveHkoZnVuY3Rpb24odGFnLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5pbkFycmF5KHRhZywgdGhpcy5fc3RhdGVzLnRhZ3Nbb2JqZWN0Lm5hbWVdKSA9PT0gaTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdXBwcmVzc2VzIGV2ZW50cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFN0cmluZz59IGV2ZW50cyAtIFRoZSBldmVudHMgdG8gc3VwcHJlc3MuXHJcbiAgICAgKi9cclxuICAgIE93bC5wcm90b3R5cGUuc3VwcHJlc3MgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdXByZXNzW2V2ZW50XSA9IHRydWU7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbGVhc2VzIHN1cHByZXNzZWQgZXZlbnRzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtBcnJheS48U3RyaW5nPn0gZXZlbnRzIC0gVGhlIGV2ZW50cyB0byByZWxlYXNlLlxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLnJlbGVhc2UgPSBmdW5jdGlvbihldmVudHMpIHtcclxuICAgICAgICAkLmVhY2goZXZlbnRzLCAkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBldmVudCkge1xyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fc3VwcmVzc1tldmVudF07XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdW5pZmllZCBwb2ludGVyIGNvb3JkaW5hdGVzIGZyb20gZXZlbnQuXHJcbiAgICAgKiBAdG9kbyAjMjYxXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSAtIFRoZSBgbW91c2Vkb3duYCBvciBgdG91Y2hzdGFydGAgZXZlbnQuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIENvbnRhaW5zIGB4YCBhbmQgYHlgIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9pbnRlciBwb3NpdGlvbi5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5wb2ludGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgcmVzdWx0ID0geyB4OiBudWxsLCB5OiBudWxsIH07XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XHJcblxyXG4gICAgICAgIGV2ZW50ID0gZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA/XHJcbiAgICAgICAgICAgIGV2ZW50LnRvdWNoZXNbMF0gOiBldmVudC5jaGFuZ2VkVG91Y2hlcyAmJiBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGggP1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0gOiBldmVudDtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50LnBhZ2VYKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC54ID0gZXZlbnQucGFnZVg7XHJcbiAgICAgICAgICAgIHJlc3VsdC55ID0gZXZlbnQucGFnZVk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzdWx0LnggPSBldmVudC5jbGllbnRYO1xyXG4gICAgICAgICAgICByZXN1bHQueSA9IGV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERldGVybWluZXMgaWYgdGhlIGlucHV0IGlzIGEgTnVtYmVyIG9yIHNvbWV0aGluZyB0aGF0IGNhbiBiZSBjb2VyY2VkIHRvIGEgTnVtYmVyXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd8T2JqZWN0fEFycmF5fEJvb2xlYW58UmVnRXhwfEZ1bmN0aW9ufFN5bWJvbH0gLSBUaGUgaW5wdXQgdG8gYmUgdGVzdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBBbiBpbmRpY2F0aW9uIGlmIHRoZSBpbnB1dCBpcyBhIE51bWJlciBvciBjYW4gYmUgY29lcmNlZCB0byBhIE51bWJlclxyXG4gICAgICovXHJcbiAgICBPd2wucHJvdG90eXBlLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChudW1iZXIpKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBkaWZmZXJlbmNlIG9mIHR3byB2ZWN0b3JzLlxyXG4gICAgICogQHRvZG8gIzI2MVxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IC0gVGhlIGZpcnN0IHZlY3Rvci5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSAtIFRoZSBzZWNvbmQgdmVjdG9yLlxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gLSBUaGUgZGlmZmVyZW5jZS5cclxuICAgICAqL1xyXG4gICAgT3dsLnByb3RvdHlwZS5kaWZmZXJlbmNlID0gZnVuY3Rpb24oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IGZpcnN0LnggLSBzZWNvbmQueCxcclxuICAgICAgICAgICAgeTogZmlyc3QueSAtIHNlY29uZC55XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgalF1ZXJ5IFBsdWdpbiBmb3IgdGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICogQHRvZG8gTmF2aWdhdGlvbiBwbHVnaW4gYG5leHRgIGFuZCBgcHJldmBcclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgJC5mbi5vd2xDYXJvdXNlbCA9IGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGRhdGEgPSAkdGhpcy5kYXRhKCdvd2wuY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YSA9IG5ldyBPd2wodGhpcywgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgnb3dsLmNhcm91c2VsJywgZGF0YSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJC5lYWNoKFtcclxuICAgICAgICAgICAgICAgICAgICAnbmV4dCcsICdwcmV2JywgJ3RvJywgJ2Rlc3Ryb3knLCAncmVmcmVzaCcsICdyZXBsYWNlJywgJ2FkZCcsICdyZW1vdmUnXHJcbiAgICAgICAgICAgICAgICBdLCBmdW5jdGlvbihpLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEucmVnaXN0ZXIoeyB0eXBlOiBPd2wuVHlwZS5FdmVudCwgbmFtZTogZXZlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS4kZWxlbWVudC5vbihldmVudCArICcub3dsLmNhcm91c2VsLmNvcmUnLCAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucmVsYXRlZFRhcmdldCAhPT0gdGhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdXBwcmVzcyhbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtldmVudF0uYXBwbHkodGhpcywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZShbIGV2ZW50IF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICYmIG9wdGlvbi5jaGFyQXQoMCkgIT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YVtvcHRpb25dLmFwcGx5KGRhdGEsIGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhlIGNvbnN0cnVjdG9yIGZvciB0aGUgalF1ZXJ5IFBsdWdpblxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yID0gT3dsO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9SZWZyZXNoIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEFydHVzIEtvbGFub3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIGF1dG8gcmVmcmVzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gUmVmcmVzaCBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIEF1dG9SZWZyZXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZyZXNoIGludGVydmFsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogV2hldGhlciB0aGUgZWxlbWVudCBpcyBjdXJyZW50bHkgdmlzaWJsZSBvciBub3QuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtCb29sZWFufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YXRjaCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQXV0b1JlZnJlc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcclxuICAgICAgICBhdXRvUmVmcmVzaEludGVydmFsOiA1MDBcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXYXRjaGVzIHRoZSBlbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBBdXRvUmVmcmVzaC5wcm90b3R5cGUud2F0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5faW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRoaXMuX2NvcmUuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJyk7XHJcbiAgICAgICAgdGhpcy5faW50ZXJ2YWwgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLnJlZnJlc2gsIHRoaXMpLCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9SZWZyZXNoSW50ZXJ2YWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlZnJlc2hlcyB0aGUgZWxlbWVudC5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5fY29yZS4kZWxlbWVudC5pcygnOnZpc2libGUnKSA9PT0gdGhpcy5fdmlzaWJsZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl92aXNpYmxlID0gIXRoaXMuX3Zpc2libGU7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQudG9nZ2xlQ2xhc3MoJ293bC1oaWRkZW4nLCAhdGhpcy5fdmlzaWJsZSk7XHJcblxyXG4gICAgICAgIHRoaXMuX3Zpc2libGUgJiYgKHRoaXMuX2NvcmUuaW52YWxpZGF0ZSgnd2lkdGgnKSAmJiB0aGlzLl9jb3JlLnJlZnJlc2goKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b1JlZnJlc2gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvUmVmcmVzaCA9IEF1dG9SZWZyZXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIExhenkgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBsYXp5IHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTGF6eSBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWxcclxuICAgICAqL1xyXG4gICAgdmFyIExhenkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbHJlYWR5IGxvYWRlZCBpdGVtcy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxqUXVlcnk+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvYWRlZCA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFdmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCBjaGFuZ2Uub3dsLmNhcm91c2VsIHJlc2l6ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY29yZS5zZXR0aW5ncyB8fCAhdGhpcy5fY29yZS5zZXR0aW5ncy5sYXp5TG9hZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoKGUucHJvcGVydHkgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHx8IGUudHlwZSA9PSAnaW5pdGlhbGl6ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IChzZXR0aW5ncy5jZW50ZXIgJiYgTWF0aC5jZWlsKHNldHRpbmdzLml0ZW1zIC8gMikgfHwgc2V0dGluZ3MuaXRlbXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gKChzZXR0aW5ncy5jZW50ZXIgJiYgbiAqIC0xKSB8fCAwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSAoZS5wcm9wZXJ0eSAmJiBlLnByb3BlcnR5LnZhbHVlICE9PSB1bmRlZmluZWQgPyBlLnByb3BlcnR5LnZhbHVlIDogdGhpcy5fY29yZS5jdXJyZW50KCkpICsgaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzID0gdGhpcy5fY29yZS5jbG9uZXMoKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQgPSAkLnByb3h5KGZ1bmN0aW9uKGksIHYpIHsgdGhpcy5sb2FkKHYpIH0sIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSsrIDwgbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWQoY2xvbmVzIC8gMiArIHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVzICYmICQuZWFjaCh0aGlzLl9jb3JlLmNsb25lcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHBvc2l0aW9uKSksIGxvYWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgdGhlIGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBMYXp5LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICovXHJcbiAgICBMYXp5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGxhenlMb2FkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIExvYWRzIGFsbCByZXNvdXJjZXMgb2YgYW4gaXRlbSBhdCB0aGUgc3BlY2lmaWVkIHBvc2l0aW9uLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIGFic29sdXRlIHBvc2l0aW9uIG9mIHRoZSBpdGVtLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBMYXp5LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICB2YXIgJGl0ZW0gPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLmVxKHBvc2l0aW9uKSxcclxuICAgICAgICAgICAgJGVsZW1lbnRzID0gJGl0ZW0gJiYgJGl0ZW0uZmluZCgnLm93bC1sYXp5Jyk7XHJcblxyXG4gICAgICAgIGlmICghJGVsZW1lbnRzIHx8ICQuaW5BcnJheSgkaXRlbS5nZXQoMCksIHRoaXMuX2xvYWRlZCkgPiAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkZWxlbWVudHMuZWFjaCgkLnByb3h5KGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCksIGltYWdlLFxyXG4gICAgICAgICAgICAgICAgdXJsID0gKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvID4gMSAmJiAkZWxlbWVudC5hdHRyKCdkYXRhLXNyYy1yZXRpbmEnKSkgfHwgJGVsZW1lbnQuYXR0cignZGF0YS1zcmMnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZCcsIHsgZWxlbWVudDogJGVsZW1lbnQsIHVybDogdXJsIH0sICdsYXp5Jyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoJGVsZW1lbnQuaXMoJ2ltZycpKSB7XHJcbiAgICAgICAgICAgICAgICAkZWxlbWVudC5vbmUoJ2xvYWQub3dsLmxhenknLCAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LmNzcygnb3BhY2l0eScsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpKS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JhY2tncm91bmQtaW1hZ2UnOiAndXJsKFwiJyArIHVybCArICdcIiknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcxJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignbG9hZGVkJywgeyBlbGVtZW50OiAkZWxlbWVudCwgdXJsOiB1cmwgfSwgJ2xhenknKTtcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0gdXJsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLl9sb2FkZWQucHVzaCgkaXRlbS5nZXQoMCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIExhenkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLmhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuaGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkxhenkgPSBMYXp5O1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEF1dG9IZWlnaHQgUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQmFydG9zeiBXb2pjaWVjaG93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvIGhlaWdodCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG8gSGVpZ2h0IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IGNhcm91c2VsIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b0hlaWdodCA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnaW5pdGlhbGl6ZWQub3dsLmNhcm91c2VsIHJlZnJlc2hlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9IZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvSGVpZ2h0ICYmIGUucHJvcGVydHkubmFtZSA9PSAncG9zaXRpb24nKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2xvYWRlZC5vd2wubGF6eSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICYmIGUuZWxlbWVudC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKS5pbmRleCgpID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvSGVpZ2h0LkRlZmF1bHRzLCB0aGlzLl9jb3JlLm9wdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b0hlaWdodC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICBhdXRvSGVpZ2h0Q2xhc3M6ICdvd2wtaGVpZ2h0J1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHZpZXcuXHJcbiAgICAgKi9cclxuICAgIEF1dG9IZWlnaHQucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2NvcmUuX2N1cnJlbnQsXHJcbiAgICAgICAgICAgIGVuZCA9IHN0YXJ0ICsgdGhpcy5fY29yZS5zZXR0aW5ncy5pdGVtcyxcclxuICAgICAgICAgICAgdmlzaWJsZSA9IHRoaXMuX2NvcmUuJHN0YWdlLmNoaWxkcmVuKCkudG9BcnJheSgpLnNsaWNlKHN0YXJ0LCBlbmQpLFxyXG4gICAgICAgICAgICBoZWlnaHRzID0gW10sXHJcbiAgICAgICAgICAgIG1heGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICQuZWFjaCh2aXNpYmxlLCBmdW5jdGlvbihpbmRleCwgaXRlbSkge1xyXG4gICAgICAgICAgICBoZWlnaHRzLnB1c2goJChpdGVtKS5oZWlnaHQoKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1heGhlaWdodCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGhlaWdodHMpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRzdGFnZS5wYXJlbnQoKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KG1heGhlaWdodClcclxuICAgICAgICAgICAgLmFkZENsYXNzKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b0hlaWdodENsYXNzKTtcclxuICAgIH07XHJcblxyXG4gICAgQXV0b0hlaWdodC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuX2hhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub2ZmKGhhbmRsZXIsIHRoaXMuX2hhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BdXRvSGVpZ2h0ID0gQXV0b0hlaWdodDtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBWaWRlbyBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBEYXZpZCBEZXV0c2NoXHJcbiAqIEBsaWNlbnNlIFRoZSBNSVQgTGljZW5zZSAoTUlUKVxyXG4gKi9cclxuOyhmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdGhlIHZpZGVvIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgVmlkZW8gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBWaWRlbyA9IGZ1bmN0aW9uKGNhcm91c2VsKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBjb3JlLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T3dsfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2NvcmUgPSBjYXJvdXNlbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FjaGUgYWxsIHZpZGVvIFVSTHMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEN1cnJlbnQgcGxheWluZyBpdGVtLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3BsYXlpbmcgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgZXZlbnQgaGFuZGxlcnMuXHJcbiAgICAgICAgICogQHRvZG8gVGhlIGNsb25lZCBjb250ZW50IHJlbW92YWxlIGlzIHRvbyBsYXRlXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUucmVnaXN0ZXIoeyB0eXBlOiAnc3RhdGUnLCBuYW1lOiAncGxheWluZycsIHRhZ3M6IFsgJ2ludGVyYWN0aW5nJyBdIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3Jlc2l6ZS5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvICYmIHRoaXMuaXNJbkZ1bGxTY3JlZW4oKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZWZyZXNoZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5pcygncmVzaXppbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUuJHN0YWdlLmZpbmQoJy5jbG9uZWQgLm93bC12aWRlby1mcmFtZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2NoYW5nZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09PSAncG9zaXRpb24nICYmIHRoaXMuX3BsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlLmNvbnRlbnQpLmZpbmQoJy5vd2wtdmlkZW8nKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJGVsZW1lbnQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoKCRlbGVtZW50LCAkKGUuY29udGVudCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNldCBkZWZhdWx0IG9wdGlvbnNcclxuICAgICAgICB0aGlzLl9jb3JlLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgVmlkZW8uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUuJGVsZW1lbnQub24oJ2NsaWNrLm93bC52aWRlbycsICcub3dsLXZpZGVvLXBsYXktaWNvbicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXkoZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgVmlkZW8uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgdmlkZW86IGZhbHNlLFxyXG4gICAgICAgIHZpZGVvSGVpZ2h0OiBmYWxzZSxcclxuICAgICAgICB2aWRlb1dpZHRoOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHZpZGVvIElEIGFuZCB0aGUgdHlwZSAoWW91VHViZS9WaW1lby92emFhciBvbmx5KS5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSB0YXJnZXQgLSBUaGUgdGFyZ2V0IGNvbnRhaW5pbmcgdGhlIHZpZGVvIGRhdGEuXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gaXRlbSAtIFRoZSBpdGVtIGNvbnRhaW5pbmcgdGhlIHZpZGVvLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUuZmV0Y2ggPSBmdW5jdGlvbih0YXJnZXQsIGl0ZW0pIHtcclxuICAgICAgICB2YXIgdHlwZSA9IChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuYXR0cignZGF0YS12aW1lby1pZCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aW1lbyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJykpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3Z6YWFyJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICBpZCA9IHRhcmdldC5hdHRyKCdkYXRhLXZpbWVvLWlkJykgfHwgdGFyZ2V0LmF0dHIoJ2RhdGEteW91dHViZS1pZCcpIHx8IHRhcmdldC5hdHRyKCdkYXRhLXZ6YWFyLWlkJyksXHJcbiAgICAgICAgICAgIHdpZHRoID0gdGFyZ2V0LmF0dHIoJ2RhdGEtd2lkdGgnKSB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLnZpZGVvV2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodCA9IHRhcmdldC5hdHRyKCdkYXRhLWhlaWdodCcpIHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MudmlkZW9IZWlnaHQsXHJcbiAgICAgICAgICAgIHVybCA9IHRhcmdldC5hdHRyKCdocmVmJyk7XHJcblxyXG4gICAgICAgIGlmICh1cmwpIHtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgUGFyc2VzIHRoZSBpZCdzIG91dCBvZiB0aGUgZm9sbG93aW5nIHVybHMgKGFuZCBwcm9iYWJseSBtb3JlKTpcclxuICAgICAgICAgICAgICAgICAgICBodHRwczovL3d3dy55b3V0dWJlLmNvbS93YXRjaD92PTppZFxyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBzOi8veW91dHUuYmUvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vY2hhbm5lbHMvOmNoYW5uZWwvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly92aW1lby5jb20vZ3JvdXBzLzpncm91cC92aWRlb3MvOmlkXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cHM6Ly9hcHAudnphYXIuY29tL3ZpZGVvcy86aWRcclxuICAgICAgICAgICAgICAgICAgICBWaXN1YWwgZXhhbXBsZTogaHR0cHM6Ly9yZWdleHBlci5jb20vIyhodHRwJTNBJTdDaHR0cHMlM0ElN0MpJTVDJTJGJTVDJTJGKHBsYXllci4lN0N3d3cuJTdDYXBwLiklM0YodmltZW8lNUMuY29tJTdDeW91dHUoYmUlNUMuY29tJTdDJTVDLmJlJTdDYmUlNUMuZ29vZ2xlYXBpcyU1Qy5jb20pJTdDdnphYXIlNUMuY29tKSU1QyUyRih2aWRlbyU1QyUyRiU3Q3ZpZGVvcyU1QyUyRiU3Q2VtYmVkJTVDJTJGJTdDY2hhbm5lbHMlNUMlMkYuJTJCJTVDJTJGJTdDZ3JvdXBzJTVDJTJGLiUyQiU1QyUyRiU3Q3dhdGNoJTVDJTNGdiUzRCU3Q3YlNUMlMkYpJTNGKCU1QkEtWmEtejAtOS5fJTI1LSU1RCopKCU1QyUyNiU1Q1MlMkIpJTNGXHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICBpZCA9IHVybC5tYXRjaCgvKGh0dHA6fGh0dHBzOnwpXFwvXFwvKHBsYXllci58d3d3LnxhcHAuKT8odmltZW9cXC5jb218eW91dHUoYmVcXC5jb218XFwuYmV8YmVcXC5nb29nbGVhcGlzXFwuY29tKXx2emFhclxcLmNvbSlcXC8odmlkZW9cXC98dmlkZW9zXFwvfGVtYmVkXFwvfGNoYW5uZWxzXFwvLitcXC98Z3JvdXBzXFwvLitcXC98d2F0Y2hcXD92PXx2XFwvKT8oW0EtWmEtejAtOS5fJS1dKikoXFwmXFxTKyk/Lyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaWRbM10uaW5kZXhPZigneW91dHUnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3lvdXR1YmUnO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlkWzNdLmluZGV4T2YoJ3ZpbWVvJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9ICd2aW1lbyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaWRbM10uaW5kZXhPZigndnphYXInKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gJ3Z6YWFyJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVmlkZW8gVVJMIG5vdCBzdXBwb3J0ZWQuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWQgPSBpZFs2XTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmlkZW8gVVJMLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmlkZW9zW3VybF0gPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXHJcbiAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGl0ZW0uYXR0cignZGF0YS12aWRlbycsIHVybCk7XHJcblxyXG4gICAgICAgIHRoaXMudGh1bWJuYWlsKHRhcmdldCwgdGhpcy5fdmlkZW9zW3VybF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgdmlkZW8gdGh1bWJuYWlsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9IHRhcmdldCAtIFRoZSB0YXJnZXQgY29udGFpbmluZyB0aGUgdmlkZW8gZGF0YS5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBpbmZvIC0gVGhlIHZpZGVvIGluZm8gb2JqZWN0LlxyXG4gICAgICogQHNlZSBgZmV0Y2hgXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS50aHVtYm5haWwgPSBmdW5jdGlvbih0YXJnZXQsIHZpZGVvKSB7XHJcbiAgICAgICAgdmFyIHRuTGluayxcclxuICAgICAgICAgICAgaWNvbixcclxuICAgICAgICAgICAgcGF0aCxcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IHZpZGVvLndpZHRoICYmIHZpZGVvLmhlaWdodCA/ICdzdHlsZT1cIndpZHRoOicgKyB2aWRlby53aWR0aCArICdweDtoZWlnaHQ6JyArIHZpZGVvLmhlaWdodCArICdweDtcIicgOiAnJyxcclxuICAgICAgICAgICAgY3VzdG9tVG4gPSB0YXJnZXQuZmluZCgnaW1nJyksXHJcbiAgICAgICAgICAgIHNyY1R5cGUgPSAnc3JjJyxcclxuICAgICAgICAgICAgbGF6eUNsYXNzID0gJycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncyxcclxuICAgICAgICAgICAgY3JlYXRlID0gZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgICAgICAgICAgICAgaWNvbiA9ICc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXBsYXktaWNvblwiPjwvZGl2Pic7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLmxhenlMb2FkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG5MaW5rID0gJzxkaXYgY2xhc3M9XCJvd2wtdmlkZW8tdG4gJyArIGxhenlDbGFzcyArICdcIiAnICsgc3JjVHlwZSArICc9XCInICsgcGF0aCArICdcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0bkxpbmsgPSAnPGRpdiBjbGFzcz1cIm93bC12aWRlby10blwiIHN0eWxlPVwib3BhY2l0eToxO2JhY2tncm91bmQtaW1hZ2U6dXJsKCcgKyBwYXRoICsgJylcIj48L2Rpdj4nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmFmdGVyKHRuTGluayk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuYWZ0ZXIoaWNvbik7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHdyYXAgdmlkZW8gY29udGVudCBpbnRvIG93bC12aWRlby13cmFwcGVyIGRpdlxyXG4gICAgICAgIHRhcmdldC53cmFwKCc8ZGl2IGNsYXNzPVwib3dsLXZpZGVvLXdyYXBwZXJcIicgKyBkaW1lbnNpb25zICsgJz48L2Rpdj4nKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MubGF6eUxvYWQpIHtcclxuICAgICAgICAgICAgc3JjVHlwZSA9ICdkYXRhLXNyYyc7XHJcbiAgICAgICAgICAgIGxhenlDbGFzcyA9ICdvd2wtbGF6eSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBjdXN0b20gdGh1bWJuYWlsXHJcbiAgICAgICAgaWYgKGN1c3RvbVRuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjcmVhdGUoY3VzdG9tVG4uYXR0cihzcmNUeXBlKSk7XHJcbiAgICAgICAgICAgIGN1c3RvbVRuLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmlkZW8udHlwZSA9PT0gJ3lvdXR1YmUnKSB7XHJcbiAgICAgICAgICAgIHBhdGggPSBcIi8vaW1nLnlvdXR1YmUuY29tL3ZpL1wiICsgdmlkZW8uaWQgKyBcIi9ocWRlZmF1bHQuanBnXCI7XHJcbiAgICAgICAgICAgIGNyZWF0ZShwYXRoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZpZGVvLnR5cGUgPT09ICd2aW1lbycpIHtcclxuICAgICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgICAgICAgICAgdXJsOiAnLy92aW1lby5jb20vYXBpL3YyL3ZpZGVvLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhWzBdLnRodW1ibmFpbF9sYXJnZTtcclxuICAgICAgICAgICAgICAgICAgICBjcmVhdGUocGF0aCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvL3Z6YWFyLmNvbS9hcGkvdmlkZW9zLycgKyB2aWRlby5pZCArICcuanNvbicsXHJcbiAgICAgICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbnAnLFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGggPSBkYXRhLmZyYW1lZ3JhYl91cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlKHBhdGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgdGhlIGN1cnJlbnQgdmlkZW8uXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5maW5kKCcub3dsLXZpZGVvLWZyYW1lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgdGhpcy5fcGxheWluZy5yZW1vdmVDbGFzcygnb3dsLXZpZGVvLXBsYXlpbmcnKTtcclxuICAgICAgICB0aGlzLl9wbGF5aW5nID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdzdG9wcGVkJywgbnVsbCwgJ3ZpZGVvJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIHRoZSBjdXJyZW50IHZpZGVvLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBUaGUgZXZlbnQgYXJndW1lbnRzLlxyXG4gICAgICovXHJcbiAgICBWaWRlby5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHRhcmdldCA9ICQoZXZlbnQudGFyZ2V0KSxcclxuICAgICAgICAgICAgaXRlbSA9IHRhcmdldC5jbG9zZXN0KCcuJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuaXRlbUNsYXNzKSxcclxuICAgICAgICAgICAgdmlkZW8gPSB0aGlzLl92aWRlb3NbaXRlbS5hdHRyKCdkYXRhLXZpZGVvJyldLFxyXG4gICAgICAgICAgICB3aWR0aCA9IHZpZGVvLndpZHRoIHx8ICcxMDAlJyxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gdmlkZW8uaGVpZ2h0IHx8IHRoaXMuX2NvcmUuJHN0YWdlLmhlaWdodCgpLFxyXG4gICAgICAgICAgICBodG1sO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fcGxheWluZykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdwbGF5aW5nJyk7XHJcbiAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdwbGF5JywgbnVsbCwgJ3ZpZGVvJyk7XHJcblxyXG4gICAgICAgIGl0ZW0gPSB0aGlzLl9jb3JlLml0ZW1zKHRoaXMuX2NvcmUucmVsYXRpdmUoaXRlbS5pbmRleCgpKSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvcmUucmVzZXQoaXRlbS5pbmRleCgpKTtcclxuXHJcbiAgICAgICAgaWYgKHZpZGVvLnR5cGUgPT09ICd5b3V0dWJlJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgd2lkdGg9XCInICsgd2lkdGggKyAnXCIgaGVpZ2h0PVwiJyArIGhlaWdodCArICdcIiBzcmM9XCIvL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8nICtcclxuICAgICAgICAgICAgICAgIHZpZGVvLmlkICsgJz9hdXRvcGxheT0xJnJlbD0wJnY9JyArIHZpZGVvLmlkICsgJ1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3ZpbWVvJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgc3JjPVwiLy9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLycgKyB2aWRlby5pZCArXHJcbiAgICAgICAgICAgICAgICAnP2F1dG9wbGF5PTFcIiB3aWR0aD1cIicgKyB3aWR0aCArICdcIiBoZWlnaHQ9XCInICsgaGVpZ2h0ICtcclxuICAgICAgICAgICAgICAgICdcIiBmcmFtZWJvcmRlcj1cIjBcIiB3ZWJraXRhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmlkZW8udHlwZSA9PT0gJ3Z6YWFyJykge1xyXG4gICAgICAgICAgICBodG1sID0gJzxpZnJhbWUgZnJhbWVib3JkZXI9XCIwXCInICsgJ2hlaWdodD1cIicgKyBoZWlnaHQgKyAnXCInICsgJ3dpZHRoPVwiJyArIHdpZHRoICtcclxuICAgICAgICAgICAgICAgICdcIiBhbGxvd2Z1bGxzY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIHdlYmtpdEFsbG93RnVsbFNjcmVlbiAnICtcclxuICAgICAgICAgICAgICAgICdzcmM9XCIvL3ZpZXcudnphYXIuY29tLycgKyB2aWRlby5pZCArICcvcGxheWVyP2F1dG9wbGF5PXRydWVcIj48L2lmcmFtZT4nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJCgnPGRpdiBjbGFzcz1cIm93bC12aWRlby1mcmFtZVwiPicgKyBodG1sICsgJzwvZGl2PicpLmluc2VydEFmdGVyKGl0ZW0uZmluZCgnLm93bC12aWRlbycpKTtcclxuXHJcbiAgICAgICAgdGhpcy5fcGxheWluZyA9IGl0ZW0uYWRkQ2xhc3MoJ293bC12aWRlby1wbGF5aW5nJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gdmlkZW8gaXMgY3VycmVudGx5IGluIGZ1bGwgc2NyZWVuIG1vZGUgb3Igbm90LlxyXG4gICAgICogQHRvZG8gQmFkIHN0eWxlIGJlY2F1c2UgbG9va3MgbGlrZSBhIHJlYWRvbmx5IG1ldGhvZCBidXQgY2hhbmdlcyBtZW1iZXJzLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge0Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5pc0luRnVsbFNjcmVlbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbkVsZW1lbnQgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHJldHVybiBlbGVtZW50ICYmICQoZWxlbWVudCkucGFyZW50KCkuaGFzQ2xhc3MoJ293bC12aWRlby1mcmFtZScpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKi9cclxuICAgIFZpZGVvLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIsIHByb3BlcnR5O1xyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZignY2xpY2sub3dsLnZpZGVvJyk7XHJcblxyXG4gICAgICAgIGZvciAoaGFuZGxlciBpbiB0aGlzLl9oYW5kbGVycykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLl9oYW5kbGVyc1toYW5kbGVyXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAkLmZuLm93bENhcm91c2VsLkNvbnN0cnVjdG9yLlBsdWdpbnMuVmlkZW8gPSBWaWRlbztcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBbmltYXRlIFBsdWdpblxyXG4gKiBAdmVyc2lvbiAyLjEuMFxyXG4gKiBAYXV0aG9yIEJhcnRvc3ogV29qY2llY2hvd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgYW5pbWF0ZSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIE5hdmlnYXRpb24gUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gc2NvcGUgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBBbmltYXRlID0gZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICB0aGlzLmNvcmUgPSBzY29wZTtcclxuICAgICAgICB0aGlzLmNvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBbmltYXRlLkRlZmF1bHRzLCB0aGlzLmNvcmUub3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5zd2FwcGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLm5leHQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICdjaGFuZ2Uub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgZS5wcm9wZXJ0eS5uYW1lID09ICdwb3NpdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzID0gdGhpcy5jb3JlLmN1cnJlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBlLnByb3BlcnR5LnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2RyYWcub3dsLmNhcm91c2VsIGRyYWdnZWQub3dsLmNhcm91c2VsIHRyYW5zbGF0ZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3YXBwaW5nID0gZS50eXBlID09ICd0cmFuc2xhdGVkJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICd0cmFuc2xhdGUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5zd2FwcGluZyAmJiAodGhpcy5jb3JlLm9wdGlvbnMuYW5pbWF0ZU91dCB8fCB0aGlzLmNvcmUub3B0aW9ucy5hbmltYXRlSW4pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zd2FwKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9uKHRoaXMuaGFuZGxlcnMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5EZWZhdWx0cyA9IHtcclxuICAgICAgICBhbmltYXRlT3V0OiBmYWxzZSxcclxuICAgICAgICBhbmltYXRlSW46IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVG9nZ2xlcyB0aGUgYW5pbWF0aW9uIGNsYXNzZXMgd2hlbmV2ZXIgYW4gdHJhbnNsYXRpb25zIHN0YXJ0cy5cclxuICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufHVuZGVmaW5lZH1cclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuc3dhcCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jb3JlLnNldHRpbmdzLml0ZW1zICE9PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghJC5zdXBwb3J0LmFuaW1hdGlvbiB8fCAhJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jb3JlLnNwZWVkKDApO1xyXG5cclxuICAgICAgICB2YXIgbGVmdCxcclxuICAgICAgICAgICAgY2xlYXIgPSAkLnByb3h5KHRoaXMuY2xlYXIsIHRoaXMpLFxyXG4gICAgICAgICAgICBwcmV2aW91cyA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLnByZXZpb3VzKSxcclxuICAgICAgICAgICAgbmV4dCA9IHRoaXMuY29yZS4kc3RhZ2UuY2hpbGRyZW4oKS5lcSh0aGlzLm5leHQpLFxyXG4gICAgICAgICAgICBpbmNvbWluZyA9IHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlSW4sXHJcbiAgICAgICAgICAgIG91dGdvaW5nID0gdGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVPdXQ7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNvcmUuY3VycmVudCgpID09PSB0aGlzLnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChvdXRnb2luZykge1xyXG4gICAgICAgICAgICBsZWZ0ID0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMucHJldmlvdXMpIC0gdGhpcy5jb3JlLmNvb3JkaW5hdGVzKHRoaXMubmV4dCk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzLm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuY3NzKCB7ICdsZWZ0JzogbGVmdCArICdweCcgfSApXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1vdXQnKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKG91dGdvaW5nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChpbmNvbWluZykge1xyXG4gICAgICAgICAgICBuZXh0Lm9uZSgkLnN1cHBvcnQuYW5pbWF0aW9uLmVuZCwgY2xlYXIpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FuaW1hdGVkIG93bC1hbmltYXRlZC1pbicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoaW5jb21pbmcpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY3NzKCB7ICdsZWZ0JzogJycgfSApXHJcbiAgICAgICAgICAgIC5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgb3dsLWFuaW1hdGVkLW91dCBvd2wtYW5pbWF0ZWQtaW4nKVxyXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3ModGhpcy5jb3JlLnNldHRpbmdzLmFuaW1hdGVJbilcclxuICAgICAgICAgICAgLnJlbW92ZUNsYXNzKHRoaXMuY29yZS5zZXR0aW5ncy5hbmltYXRlT3V0KTtcclxuICAgICAgICB0aGlzLmNvcmUub25UcmFuc2l0aW9uRW5kKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQW5pbWF0ZS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgZm9yIChoYW5kbGVyIGluIHRoaXMuaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jb3JlLiRlbGVtZW50Lm9mZihoYW5kbGVyLCB0aGlzLmhhbmRsZXJzW2hhbmRsZXJdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChwcm9wZXJ0eSBpbiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzKSkge1xyXG4gICAgICAgICAgICB0eXBlb2YgdGhpc1twcm9wZXJ0eV0gIT0gJ2Z1bmN0aW9uJyAmJiAodGhpc1twcm9wZXJ0eV0gPSBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgICQuZm4ub3dsQ2Fyb3VzZWwuQ29uc3RydWN0b3IuUGx1Z2lucy5BbmltYXRlID0gQW5pbWF0ZTtcclxuXHJcbn0pKHdpbmRvdy5aZXB0byB8fCB3aW5kb3cualF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBBdXRvcGxheSBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBCYXJ0b3N6IFdvamNpZWNob3dza2lcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBhdXRvcGxheSBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEF1dG9wbGF5IFBsdWdpblxyXG4gICAgICogQHBhcmFtIHtPd2x9IHNjb3BlIC0gVGhlIE93bCBDYXJvdXNlbFxyXG4gICAgICovXHJcbiAgICB2YXIgQXV0b3BsYXkgPSBmdW5jdGlvbihjYXJvdXNlbCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgY29yZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge093bH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb3JlID0gY2Fyb3VzZWw7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBhdXRvcGxheSB0aW1lb3V0LlxyXG4gICAgICAgICAqIEB0eXBlIHtUaW1lb3V0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hlbmV2ZXIgdGhlIGF1dG9wbGF5IGlzIHBhdXNlZC5cclxuICAgICAgICAgKiBAdHlwZSB7Qm9vbGVhbn1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT09ICdzZXR0aW5ncycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ3BsYXk/JywgZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0QXV0b1BsYXlJbnRlcnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdpbml0aWFsaXplZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncGxheS5vd2wuYXV0b3BsYXknOiAkLnByb3h5KGZ1bmN0aW9uKGUsIHQsIHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSh0LCBzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdzdG9wLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnbW91c2VvdmVyLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdtb3VzZWxlYXZlLm93bC5hdXRvcGxheSc6ICQucHJveHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY29yZS5zZXR0aW5ncy5hdXRvcGxheUhvdmVyUGF1c2UgJiYgdGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ3RvdWNoc3RhcnQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlICYmIHRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAndG91Y2hlbmQub3dsLmNvcmUnOiAkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlIb3ZlclBhdXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgZXZlbnQgaGFuZGxlcnNcclxuICAgICAgICB0aGlzLl9jb3JlLiRlbGVtZW50Lm9uKHRoaXMuX2hhbmRsZXJzKTtcclxuXHJcbiAgICAgICAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xyXG4gICAgICAgIHRoaXMuX2NvcmUub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBdXRvcGxheS5EZWZhdWx0cywgdGhpcy5fY29yZS5vcHRpb25zKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IG9wdGlvbnMuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LkRlZmF1bHRzID0ge1xyXG4gICAgICAgIGF1dG9wbGF5OiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVRpbWVvdXQ6IDUwMDAsXHJcbiAgICAgICAgYXV0b3BsYXlIb3ZlclBhdXNlOiBmYWxzZSxcclxuICAgICAgICBhdXRvcGxheVNwZWVkOiBmYWxzZVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyB0aGUgYXV0b3BsYXkuXHJcbiAgICAgKiBAcHVibGljXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3RpbWVvdXRdIC0gVGhlIGludGVydmFsIGJlZm9yZSB0aGUgbmV4dCBhbmltYXRpb24gc3RhcnRzLlxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtzcGVlZF0gLSBUaGUgYW5pbWF0aW9uIHNwZWVkIGZvciB0aGUgYW5pbWF0aW9ucy5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBsYXkgPSBmdW5jdGlvbih0aW1lb3V0LCBzcGVlZCkge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fY29yZS5pcygncm90YXRpbmcnKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb3JlLmVudGVyKCdyb3RhdGluZycpO1xyXG5cclxuICAgICAgICB0aGlzLl9zZXRBdXRvUGxheUludGVydmFsKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBhIG5ldyB0aW1lb3V0XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFt0aW1lb3V0XSAtIFRoZSBpbnRlcnZhbCBiZWZvcmUgdGhlIG5leHQgYW5pbWF0aW9uIHN0YXJ0cy5cclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWRdIC0gVGhlIGFuaW1hdGlvbiBzcGVlZCBmb3IgdGhlIGFuaW1hdGlvbnMuXHJcbiAgICAgKiBAcmV0dXJuIHtUaW1lb3V0fVxyXG4gICAgICovXHJcbiAgICBBdXRvcGxheS5wcm90b3R5cGUuX2dldE5leHRUaW1lb3V0ID0gZnVuY3Rpb24odGltZW91dCwgc3BlZWQpIHtcclxuICAgICAgICBpZiAoIHRoaXMuX3RpbWVvdXQgKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fcGF1c2VkIHx8IHRoaXMuX2NvcmUuaXMoJ2J1c3knKSB8fCB0aGlzLl9jb3JlLmlzKCdpbnRlcmFjdGluZycpIHx8IGRvY3VtZW50LmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmUubmV4dChzcGVlZCB8fCB0aGlzLl9jb3JlLnNldHRpbmdzLmF1dG9wbGF5U3BlZWQpO1xyXG4gICAgICAgIH0sIHRoaXMpLCB0aW1lb3V0IHx8IHRoaXMuX2NvcmUuc2V0dGluZ3MuYXV0b3BsYXlUaW1lb3V0KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGF1dG9wbGF5IGluIG1vdGlvbi5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIEF1dG9wbGF5LnByb3RvdHlwZS5fc2V0QXV0b1BsYXlJbnRlcnZhbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3RpbWVvdXQgPSB0aGlzLl9nZXROZXh0VGltZW91dCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2NvcmUuaXMoJ3JvdGF0aW5nJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTtcclxuICAgICAgICB0aGlzLl9jb3JlLmxlYXZlKCdyb3RhdGluZycpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHRoZSBhdXRvcGxheS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb3JlLmlzKCdyb3RhdGluZycpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqL1xyXG4gICAgQXV0b3BsYXkucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgcHJvcGVydHk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcCgpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLmF1dG9wbGF5ID0gQXV0b3BsYXk7XHJcblxyXG59KSh3aW5kb3cuWmVwdG8gfHwgd2luZG93LmpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcblxyXG4vKipcclxuICogTmF2aWdhdGlvbiBQbHVnaW5cclxuICogQHZlcnNpb24gMi4xLjBcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBuYXZpZ2F0aW9uIHBsdWdpbi5cclxuICAgICAqIEBjbGFzcyBUaGUgTmF2aWdhdGlvbiBQbHVnaW5cclxuICAgICAqIEBwYXJhbSB7T3dsfSBjYXJvdXNlbCAtIFRoZSBPd2wgQ2Fyb3VzZWwuXHJcbiAgICAgKi9cclxuICAgIHZhciBOYXZpZ2F0aW9uID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgcGx1Z2luIGlzIGluaXRpYWxpemVkIG9yIG5vdC5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0Jvb2xlYW59XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGN1cnJlbnQgcGFnaW5nIGluZGV4ZXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtBcnJheX1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9wYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbGwgRE9NIGVsZW1lbnRzIG9mIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9jb250cm9scyA9IHt9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBNYXJrdXAgZm9yIGFuIGluZGljYXRvci5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge0FycmF5LjxTdHJpbmc+fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3RlbXBsYXRlcyA9IFtdO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgY2Fyb3VzZWwgZWxlbWVudC5cclxuICAgICAgICAgKiBAdHlwZSB7alF1ZXJ5fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSB0aGlzLl9jb3JlLiRlbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBPdmVycmlkZGVuIG1ldGhvZHMgb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX292ZXJyaWRlcyA9IHtcclxuICAgICAgICAgICAgbmV4dDogdGhpcy5fY29yZS5uZXh0LFxyXG4gICAgICAgICAgICBwcmV2OiB0aGlzLl9jb3JlLnByZXYsXHJcbiAgICAgICAgICAgIHRvOiB0aGlzLl9jb3JlLnRvXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQWxsIGV2ZW50IGhhbmRsZXJzLlxyXG4gICAgICAgICAqIEBwcm90ZWN0ZWRcclxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0ge1xyXG4gICAgICAgICAgICAncHJlcGFyZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5wdXNoKCc8ZGl2IGNsYXNzPVwiJyArIHRoaXMuX2NvcmUuc2V0dGluZ3MuZG90Q2xhc3MgKyAnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZS5jb250ZW50KS5maW5kKCdbZGF0YS1kb3RdJykuYWRkQmFjaygnW2RhdGEtZG90XScpLmF0dHIoJ2RhdGEtZG90JykgKyAnPC9kaXY+Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnYWRkZWQub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMCwgdGhpcy5fdGVtcGxhdGVzLnBvcCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdyZW1vdmUub3dsLmNhcm91c2VsJzogJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lc3BhY2UgJiYgdGhpcy5fY29yZS5zZXR0aW5ncy5kb3RzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RlbXBsYXRlcy5zcGxpY2UoZS5wb3NpdGlvbiwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAnY2hhbmdlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSAmJiBlLnByb3BlcnR5Lm5hbWUgPT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB0aGlzKSxcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmICF0aGlzLl9pbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcignaW5pdGlhbGl6ZScsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXcoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdpbml0aWFsaXplZCcsIG51bGwsICduYXZpZ2F0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHRoaXMpLFxyXG4gICAgICAgICAgICAncmVmcmVzaGVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2luaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY29yZS50cmlnZ2VyKCdyZWZyZXNoJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvcmUudHJpZ2dlcigncmVmcmVzaGVkJywgbnVsbCwgJ25hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIE5hdmlnYXRpb24uRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbih0aGlzLl9oYW5kbGVycyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBvcHRpb25zLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHRvZG8gUmVuYW1lIGBzbGlkZUJ5YCB0byBgbmF2QnlgXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24uRGVmYXVsdHMgPSB7XHJcbiAgICAgICAgbmF2OiBmYWxzZSxcclxuICAgICAgICBuYXZUZXh0OiBbICcnLCAnJyBdLFxyXG4gICAgICAgIG5hdlNwZWVkOiBmYWxzZSxcclxuICAgICAgICBuYXZFbGVtZW50OiAnZGl2JyxcclxuICAgICAgICBuYXZDb250YWluZXI6IGZhbHNlLFxyXG4gICAgICAgIG5hdkNvbnRhaW5lckNsYXNzOiAnb3dsLW5hdicsXHJcbiAgICAgICAgbmF2Q2xhc3M6IFsgJ293bC1wcmV2JywgJ293bC1uZXh0JyBdLFxyXG4gICAgICAgIHNsaWRlQnk6IDEsXHJcbiAgICAgICAgZG90Q2xhc3M6ICdvd2wtZG90JyxcclxuICAgICAgICBkb3RzQ2xhc3M6ICdvd2wtZG90cycsXHJcbiAgICAgICAgZG90czogdHJ1ZSxcclxuICAgICAgICBkb3RzRWFjaDogZmFsc2UsXHJcbiAgICAgICAgZG90c0RhdGE6IGZhbHNlLFxyXG4gICAgICAgIGRvdHNTcGVlZDogZmFsc2UsXHJcbiAgICAgICAgZG90c0NvbnRhaW5lcjogZmFsc2VcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0aGUgbGF5b3V0IG9mIHRoZSBwbHVnaW4gYW5kIGV4dGVuZHMgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5pbml0aWFsaXplID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG92ZXJyaWRlLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBET00gc3RydWN0dXJlIGZvciByZWxhdGl2ZSBuYXZpZ2F0aW9uXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlID0gKHNldHRpbmdzLm5hdkNvbnRhaW5lciA/ICQoc2V0dGluZ3MubmF2Q29udGFpbmVyKVxyXG4gICAgICAgICAgICA6ICQoJzxkaXY+JykuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q29udGFpbmVyQ2xhc3MpLmFwcGVuZFRvKHRoaXMuJGVsZW1lbnQpKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHByZXZpb3VzID0gJCgnPCcgKyBzZXR0aW5ncy5uYXZFbGVtZW50ICsgJz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MubmF2Q2xhc3NbMF0pXHJcbiAgICAgICAgICAgIC5odG1sKHNldHRpbmdzLm5hdlRleHRbMF0pXHJcbiAgICAgICAgICAgIC5wcmVwZW5kVG8odGhpcy5fY29udHJvbHMuJHJlbGF0aXZlKVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZXYoc2V0dGluZ3MubmF2U3BlZWQpO1xyXG4gICAgICAgICAgICB9LCB0aGlzKSk7XHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJG5leHQgPSAkKCc8JyArIHNldHRpbmdzLm5hdkVsZW1lbnQgKyAnPicpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcyhzZXR0aW5ncy5uYXZDbGFzc1sxXSlcclxuICAgICAgICAgICAgLmh0bWwoc2V0dGluZ3MubmF2VGV4dFsxXSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHRoaXMuX2NvbnRyb2xzLiRyZWxhdGl2ZSlcclxuICAgICAgICAgICAgLm9uKCdjbGljaycsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KHNldHRpbmdzLm5hdlNwZWVkKTtcclxuICAgICAgICAgICAgfSwgdGhpcykpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgRE9NIHN0cnVjdHVyZSBmb3IgYWJzb2x1dGUgbmF2aWdhdGlvblxyXG4gICAgICAgIGlmICghc2V0dGluZ3MuZG90c0RhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5fdGVtcGxhdGVzID0gWyAkKCc8ZGl2PicpXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2V0dGluZ3MuZG90Q2xhc3MpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCQoJzxzcGFuPicpKVxyXG4gICAgICAgICAgICAgICAgLnByb3AoJ291dGVySFRNTCcpIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUgPSAoc2V0dGluZ3MuZG90c0NvbnRhaW5lciA/ICQoc2V0dGluZ3MuZG90c0NvbnRhaW5lcilcclxuICAgICAgICAgICAgOiAkKCc8ZGl2PicpLmFkZENsYXNzKHNldHRpbmdzLmRvdHNDbGFzcykuYXBwZW5kVG8odGhpcy4kZWxlbWVudCkpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG5cclxuICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUub24oJ2NsaWNrJywgJ2RpdicsICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5kZXggPSAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pcyh0aGlzLl9jb250cm9scy4kYWJzb2x1dGUpXHJcbiAgICAgICAgICAgICAgICA/ICQoZS50YXJnZXQpLmluZGV4KCkgOiAkKGUudGFyZ2V0KS5wYXJlbnQoKS5pbmRleCgpO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50byhpbmRleCwgc2V0dGluZ3MuZG90c1NwZWVkKTtcclxuICAgICAgICB9LCB0aGlzKSk7XHJcblxyXG4gICAgICAgIC8vIG92ZXJyaWRlIHB1YmxpYyBtZXRob2RzIG9mIHRoZSBjYXJvdXNlbFxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5fb3ZlcnJpZGVzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvcmVbb3ZlcnJpZGVdID0gJC5wcm94eSh0aGlzW292ZXJyaWRlXSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlc3Ryb3lzIHRoZSBwbHVnaW4uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciwgY29udHJvbCwgcHJvcGVydHksIG92ZXJyaWRlO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnRyb2wgaW4gdGhpcy5fY29udHJvbHMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29udHJvbHNbY29udHJvbF0ucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAob3ZlcnJpZGUgaW4gdGhpcy5vdmVyaWRlcykge1xyXG4gICAgICAgICAgICB0aGlzLl9jb3JlW292ZXJyaWRlXSA9IHRoaXMuX292ZXJyaWRlc1tvdmVycmlkZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGhpcykpIHtcclxuICAgICAgICAgICAgdHlwZW9mIHRoaXNbcHJvcGVydHldICE9ICdmdW5jdGlvbicgJiYgKHRoaXNbcHJvcGVydHldID0gbnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIGludGVybmFsIHN0YXRlLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaSwgaiwgayxcclxuICAgICAgICAgICAgbG93ZXIgPSB0aGlzLl9jb3JlLmNsb25lcygpLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgIHVwcGVyID0gbG93ZXIgKyB0aGlzLl9jb3JlLml0ZW1zKCkubGVuZ3RoLFxyXG4gICAgICAgICAgICBtYXhpbXVtID0gdGhpcy5fY29yZS5tYXhpbXVtKHRydWUpLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgIHNpemUgPSBzZXR0aW5ncy5jZW50ZXIgfHwgc2V0dGluZ3MuYXV0b1dpZHRoIHx8IHNldHRpbmdzLmRvdHNEYXRhXHJcbiAgICAgICAgICAgICAgICA/IDEgOiBzZXR0aW5ncy5kb3RzRWFjaCB8fCBzZXR0aW5ncy5pdGVtcztcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLnNsaWRlQnkgIT09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBzZXR0aW5ncy5zbGlkZUJ5ID0gTWF0aC5taW4oc2V0dGluZ3Muc2xpZGVCeSwgc2V0dGluZ3MuaXRlbXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMgfHwgc2V0dGluZ3Muc2xpZGVCeSA9PSAncGFnZScpIHtcclxuICAgICAgICAgICAgdGhpcy5fcGFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoaSA9IGxvd2VyLCBqID0gMCwgayA9IDA7IGkgPCB1cHBlcjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaiA+PSBzaXplIHx8IGogPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9wYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGgubWluKG1heGltdW0sIGkgLSBsb3dlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogaSAtIGxvd2VyICsgc2l6ZSAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4obWF4aW11bSwgaSAtIGxvd2VyKSA9PT0gbWF4aW11bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaiA9IDAsICsraztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGogKz0gdGhpcy5fY29yZS5tZXJnZXJzKHRoaXMuX2NvcmUucmVsYXRpdmUoaSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERyYXdzIHRoZSB1c2VyIGludGVyZmFjZS5cclxuICAgICAqIEB0b2RvIFRoZSBvcHRpb24gYGRvdHNEYXRhYCB3b250IHdvcmsuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZGlmZmVyZW5jZSxcclxuICAgICAgICAgICAgc2V0dGluZ3MgPSB0aGlzLl9jb3JlLnNldHRpbmdzLFxyXG4gICAgICAgICAgICBkaXNhYmxlZCA9IHRoaXMuX2NvcmUuaXRlbXMoKS5sZW5ndGggPD0gc2V0dGluZ3MuaXRlbXMsXHJcbiAgICAgICAgICAgIGluZGV4ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSksXHJcbiAgICAgICAgICAgIGxvb3AgPSBzZXR0aW5ncy5sb29wIHx8IHNldHRpbmdzLnJld2luZDtcclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJHJlbGF0aXZlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5uYXYgfHwgZGlzYWJsZWQpO1xyXG5cclxuICAgICAgICBpZiAoc2V0dGluZ3MubmF2KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRwcmV2aW91cy50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA8PSB0aGlzLl9jb3JlLm1pbmltdW0odHJ1ZSkpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kbmV4dC50b2dnbGVDbGFzcygnZGlzYWJsZWQnLCAhbG9vcCAmJiBpbmRleCA+PSB0aGlzLl9jb3JlLm1heGltdW0odHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLnRvZ2dsZUNsYXNzKCdkaXNhYmxlZCcsICFzZXR0aW5ncy5kb3RzIHx8IGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdzLmRvdHMpIHtcclxuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuX3BhZ2VzLmxlbmd0aCAtIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5jaGlsZHJlbigpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncy5kb3RzRGF0YSAmJiBkaWZmZXJlbmNlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuaHRtbCh0aGlzLl90ZW1wbGF0ZXMuam9pbignJykpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmZlcmVuY2UgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuYXBwZW5kKG5ldyBBcnJheShkaWZmZXJlbmNlICsgMSkuam9pbih0aGlzLl90ZW1wbGF0ZXNbMF0pKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWZmZXJlbmNlIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udHJvbHMuJGFic29sdXRlLmNoaWxkcmVuKCkuc2xpY2UoZGlmZmVyZW5jZSkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xzLiRhYnNvbHV0ZS5maW5kKCcuYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICB0aGlzLl9jb250cm9scy4kYWJzb2x1dGUuY2hpbGRyZW4oKS5lcSgkLmluQXJyYXkodGhpcy5jdXJyZW50KCksIHRoaXMuX3BhZ2VzKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGV2ZW50IGRhdGEuXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCAtIFRoZSBldmVudCBvYmplY3Qgd2hpY2ggZ2V0cyB0aHJvd24uXHJcbiAgICAgKi9cclxuICAgIE5hdmlnYXRpb24ucHJvdG90eXBlLm9uVHJpZ2dlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5fY29yZS5zZXR0aW5ncztcclxuXHJcbiAgICAgICAgZXZlbnQucGFnZSA9IHtcclxuICAgICAgICAgICAgaW5kZXg6ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpLFxyXG4gICAgICAgICAgICBjb3VudDogdGhpcy5fcGFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICBzaXplOiBzZXR0aW5ncyAmJiAoc2V0dGluZ3MuY2VudGVyIHx8IHNldHRpbmdzLmF1dG9XaWR0aCB8fCBzZXR0aW5ncy5kb3RzRGF0YVxyXG4gICAgICAgICAgICAgICAgPyAxIDogc2V0dGluZ3MuZG90c0VhY2ggfHwgc2V0dGluZ3MuaXRlbXMpXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHBhZ2UgcG9zaXRpb24gb2YgdGhlIGNhcm91c2VsLlxyXG4gICAgICogQHByb3RlY3RlZFxyXG4gICAgICogQHJldHVybnMge051bWJlcn1cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5yZWxhdGl2ZSh0aGlzLl9jb3JlLmN1cnJlbnQoKSk7XHJcbiAgICAgICAgcmV0dXJuICQuZ3JlcCh0aGlzLl9wYWdlcywgJC5wcm94eShmdW5jdGlvbihwYWdlLCBpbmRleCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFnZS5zdGFydCA8PSBjdXJyZW50ICYmIHBhZ2UuZW5kID49IGN1cnJlbnQ7XHJcbiAgICAgICAgfSwgdGhpcykpLnBvcCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnQgc3VjY2Vzb3IvcHJlZGVjZXNzb3IgcG9zaXRpb24uXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcmV0dXJucyB7TnVtYmVyfVxyXG4gICAgICovXHJcbiAgICBOYXZpZ2F0aW9uLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKHN1Y2Nlc3Nvcikge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiwgbGVuZ3RoLFxyXG4gICAgICAgICAgICBzZXR0aW5ncyA9IHRoaXMuX2NvcmUuc2V0dGluZ3M7XHJcblxyXG4gICAgICAgIGlmIChzZXR0aW5ncy5zbGlkZUJ5ID09ICdwYWdlJykge1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9ICQuaW5BcnJheSh0aGlzLmN1cnJlbnQoKSwgdGhpcy5fcGFnZXMpO1xyXG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLl9wYWdlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3NvciA/ICsrcG9zaXRpb24gOiAtLXBvc2l0aW9uO1xyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3BhZ2VzWygocG9zaXRpb24gJSBsZW5ndGgpICsgbGVuZ3RoKSAlIGxlbmd0aF0uc3RhcnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKTtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fY29yZS5pdGVtcygpLmxlbmd0aDtcclxuICAgICAgICAgICAgc3VjY2Vzc29yID8gcG9zaXRpb24gKz0gc2V0dGluZ3Muc2xpZGVCeSA6IHBvc2l0aW9uIC09IHNldHRpbmdzLnNsaWRlQnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBuZXh0IGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24odHJ1ZSksIHNwZWVkKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTbGlkZXMgdG8gdGhlIHByZXZpb3VzIGl0ZW0gb3IgcGFnZS5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3BlZWQ9ZmFsc2VdIC0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciB0aGUgdHJhbnNpdGlvbi5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgJC5wcm94eSh0aGlzLl9vdmVycmlkZXMudG8sIHRoaXMuX2NvcmUpKHRoaXMuZ2V0UG9zaXRpb24oZmFsc2UpLCBzcGVlZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2xpZGVzIHRvIHRoZSBzcGVjaWZpZWQgaXRlbSBvciBwYWdlLlxyXG4gICAgICogQHB1YmxpY1xyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHBvc2l0aW9uIC0gVGhlIHBvc2l0aW9uIG9mIHRoZSBpdGVtIG9yIHBhZ2UuXHJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NwZWVkXSAtIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIHRyYW5zaXRpb24uXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtzdGFuZGFyZD1mYWxzZV0gLSBXaGV0aGVyIHRvIHVzZSB0aGUgc3RhbmRhcmQgYmVoYXZpb3VyIG9yIG5vdC5cclxuICAgICAqL1xyXG4gICAgTmF2aWdhdGlvbi5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihwb3NpdGlvbiwgc3BlZWQsIHN0YW5kYXJkKSB7XHJcbiAgICAgICAgdmFyIGxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKCFzdGFuZGFyZCAmJiB0aGlzLl9wYWdlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhpcy5fcGFnZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAkLnByb3h5KHRoaXMuX292ZXJyaWRlcy50bywgdGhpcy5fY29yZSkodGhpcy5fcGFnZXNbKChwb3NpdGlvbiAlIGxlbmd0aCkgKyBsZW5ndGgpICUgbGVuZ3RoXS5zdGFydCwgc3BlZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQucHJveHkodGhpcy5fb3ZlcnJpZGVzLnRvLCB0aGlzLl9jb3JlKShwb3NpdGlvbiwgc3BlZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLk5hdmlnYXRpb24gPSBOYXZpZ2F0aW9uO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIEhhc2ggUGx1Z2luXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgQXJ0dXMgS29sYW5vd3NraVxyXG4gKiBAYXV0aG9yIERhdmlkIERldXRzY2hcclxuICogQGxpY2Vuc2UgVGhlIE1JVCBMaWNlbnNlIChNSVQpXHJcbiAqL1xyXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgaGFzaCBwbHVnaW4uXHJcbiAgICAgKiBAY2xhc3MgVGhlIEhhc2ggUGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge093bH0gY2Fyb3VzZWwgLSBUaGUgT3dsIENhcm91c2VsXHJcbiAgICAgKi9cclxuICAgIHZhciBIYXNoID0gZnVuY3Rpb24oY2Fyb3VzZWwpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIGNvcmUuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPd2x9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fY29yZSA9IGNhcm91c2VsO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYXNoIG1haW4tcGFnZS1wYWdlIGZvciB0aGUgaXRlbXMuXHJcbiAgICAgICAgICogQHByb3RlY3RlZFxyXG4gICAgICAgICAqIEB0eXBlIHtPYmplY3R9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGFzaGVzID0ge307XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBjYXJvdXNlbCBlbGVtZW50LlxyXG4gICAgICAgICAqIEB0eXBlIHtqUXVlcnl9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuX2NvcmUuJGVsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFsbCBldmVudCBoYW5kbGVycy5cclxuICAgICAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgICAgICogQHR5cGUge09iamVjdH1cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl9oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgJ2luaXRpYWxpemVkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIHRoaXMuX2NvcmUuc2V0dGluZ3Muc3RhcnRQb3NpdGlvbiA9PT0gJ1VSTEhhc2gnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoJ2hhc2hjaGFuZ2Uub3dsLm5hdmlnYXRpb24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdwcmVwYXJlZC5vd2wuY2Fyb3VzZWwnOiAkLnByb3h5KGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLm5hbWVzcGFjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNoID0gJChlLmNvbnRlbnQpLmZpbmQoJ1tkYXRhLWhhc2hdJykuYWRkQmFjaygnW2RhdGEtaGFzaF0nKS5hdHRyKCdkYXRhLWhhc2gnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2hhc2hlc1toYXNoXSA9IGUuY29udGVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyksXHJcbiAgICAgICAgICAgICdjaGFuZ2VkLm93bC5jYXJvdXNlbCc6ICQucHJveHkoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUubmFtZXNwYWNlICYmIGUucHJvcGVydHkubmFtZSA9PT0gJ3Bvc2l0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gdGhpcy5fY29yZS5pdGVtcyh0aGlzLl9jb3JlLnJlbGF0aXZlKHRoaXMuX2NvcmUuY3VycmVudCgpKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc2ggPSAkLm1hcCh0aGlzLl9oYXNoZXMsIGZ1bmN0aW9uKGl0ZW0sIGhhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtID09PSBjdXJyZW50ID8gaGFzaCA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoYXNoIHx8IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpID09PSBoYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gaGFzaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZXQgZGVmYXVsdCBvcHRpb25zXHJcbiAgICAgICAgdGhpcy5fY29yZS5vcHRpb25zID0gJC5leHRlbmQoe30sIEhhc2guRGVmYXVsdHMsIHRoaXMuX2NvcmUub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBldmVudCBoYW5kbGVyc1xyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24odGhpcy5faGFuZGxlcnMpO1xyXG5cclxuICAgICAgICAvLyByZWdpc3RlciBldmVudCBsaXN0ZW5lciBmb3IgaGFzaCBuYXZpZ2F0aW9uXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlLm93bC5uYXZpZ2F0aW9uJywgJC5wcm94eShmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpLFxyXG4gICAgICAgICAgICAgICAgaXRlbXMgPSB0aGlzLl9jb3JlLiRzdGFnZS5jaGlsZHJlbigpLFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0aGlzLl9oYXNoZXNbaGFzaF0gJiYgaXRlbXMuaW5kZXgodGhpcy5faGFzaGVzW2hhc2hdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gdW5kZWZpbmVkIHx8IHBvc2l0aW9uID09PSB0aGlzLl9jb3JlLmN1cnJlbnQoKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jb3JlLnRvKHRoaXMuX2NvcmUucmVsYXRpdmUocG9zaXRpb24pLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgdGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgb3B0aW9ucy5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5EZWZhdWx0cyA9IHtcclxuICAgICAgICBVUkxoYXNoTGlzdGVuZXI6IGZhbHNlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVzdHJveXMgdGhlIHBsdWdpbi5cclxuICAgICAqIEBwdWJsaWNcclxuICAgICAqL1xyXG4gICAgSGFzaC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyLCBwcm9wZXJ0eTtcclxuXHJcbiAgICAgICAgJCh3aW5kb3cpLm9mZignaGFzaGNoYW5nZS5vd2wubmF2aWdhdGlvbicpO1xyXG5cclxuICAgICAgICBmb3IgKGhhbmRsZXIgaW4gdGhpcy5faGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY29yZS4kZWxlbWVudC5vZmYoaGFuZGxlciwgdGhpcy5faGFuZGxlcnNbaGFuZGxlcl0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHByb3BlcnR5IGluIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRoaXMpKSB7XHJcbiAgICAgICAgICAgIHR5cGVvZiB0aGlzW3Byb3BlcnR5XSAhPSAnZnVuY3Rpb24nICYmICh0aGlzW3Byb3BlcnR5XSA9IG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJC5mbi5vd2xDYXJvdXNlbC5Db25zdHJ1Y3Rvci5QbHVnaW5zLkhhc2ggPSBIYXNoO1xyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xyXG5cclxuLyoqXHJcbiAqIFN1cHBvcnQgUGx1Z2luXHJcbiAqXHJcbiAqIEB2ZXJzaW9uIDIuMS4wXHJcbiAqIEBhdXRob3IgVml2aWQgUGxhbmV0IFNvZnR3YXJlIEdtYkhcclxuICogQGF1dGhvciBBcnR1cyBLb2xhbm93c2tpXHJcbiAqIEBhdXRob3IgRGF2aWQgRGV1dHNjaFxyXG4gKiBAbGljZW5zZSBUaGUgTUlUIExpY2Vuc2UgKE1JVClcclxuICovXHJcbjsoZnVuY3Rpb24oJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgdmFyIHN0eWxlID0gJCgnPHN1cHBvcnQ+JykuZ2V0KDApLnN0eWxlLFxyXG4gICAgICAgIHByZWZpeGVzID0gJ1dlYmtpdCBNb3ogTyBtcycuc3BsaXQoJyAnKSxcclxuICAgICAgICBldmVudHMgPSB7XHJcbiAgICAgICAgICAgIHRyYW5zaXRpb246IHtcclxuICAgICAgICAgICAgICAgIGVuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIFdlYmtpdFRyYW5zaXRpb246ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pUcmFuc2l0aW9uOiAndHJhbnNpdGlvbmVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgT1RyYW5zaXRpb246ICdvVHJhbnNpdGlvbkVuZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zaXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgV2Via2l0QW5pbWF0aW9uOiAnd2Via2l0QW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBNb3pBbmltYXRpb246ICdhbmltYXRpb25lbmQnLFxyXG4gICAgICAgICAgICAgICAgICAgIE9BbmltYXRpb246ICdvQW5pbWF0aW9uRW5kJyxcclxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246ICdhbmltYXRpb25lbmQnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHRlc3RzID0ge1xyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ3RyYW5zZm9ybScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3N0cmFuc2Zvcm1zM2Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgncGVyc3BlY3RpdmUnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY3NzdHJhbnNpdGlvbnM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGVzdCgndHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjc3NhbmltYXRpb25zOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAhIXRlc3QoJ2FuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiB0ZXN0KHByb3BlcnR5LCBwcmVmaXhlZCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBmYWxzZSxcclxuICAgICAgICAgICAgdXBwZXIgPSBwcm9wZXJ0eS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BlcnR5LnNsaWNlKDEpO1xyXG5cclxuICAgICAgICAkLmVhY2goKHByb3BlcnR5ICsgJyAnICsgcHJlZml4ZXMuam9pbih1cHBlciArICcgJykgKyB1cHBlcikuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgcHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKHN0eWxlW3Byb3BlcnR5XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBwcmVmaXhlZCA/IHByb3BlcnR5IDogdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByZWZpeGVkKHByb3BlcnR5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRlc3QocHJvcGVydHksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2l0aW9ucygpKSB7XHJcbiAgICAgICAgLyoganNoaW50IC1XMDUzICovXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSBuZXcgU3RyaW5nKHByZWZpeGVkKCd0cmFuc2l0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kID0gZXZlbnRzLnRyYW5zaXRpb24uZW5kWyAkLnN1cHBvcnQudHJhbnNpdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3NhbmltYXRpb25zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQuYW5pbWF0aW9uID0gbmV3IFN0cmluZyhwcmVmaXhlZCgnYW5pbWF0aW9uJykpXHJcbiAgICAgICAgJC5zdXBwb3J0LmFuaW1hdGlvbi5lbmQgPSBldmVudHMuYW5pbWF0aW9uLmVuZFsgJC5zdXBwb3J0LmFuaW1hdGlvbiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0ZXN0cy5jc3N0cmFuc2Zvcm1zKCkpIHtcclxuICAgICAgICAvKiBqc2hpbnQgLVcwNTMgKi9cclxuICAgICAgICAkLnN1cHBvcnQudHJhbnNmb3JtID0gbmV3IFN0cmluZyhwcmVmaXhlZCgndHJhbnNmb3JtJykpO1xyXG4gICAgICAgICQuc3VwcG9ydC50cmFuc2Zvcm0zZCA9IHRlc3RzLmNzc3RyYW5zZm9ybXMzZCgpO1xyXG4gICAgfVxyXG5cclxufSkod2luZG93LlplcHRvIHx8IHdpbmRvdy5qUXVlcnksIHdpbmRvdywgZG9jdW1lbnQpO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7XHJcbiAgICAvLyBUZXN0IGZvciBwbGFjZWhvbGRlciBzdXBwb3J0XHJcbiAgICAkLnN1cHBvcnQucGxhY2Vob2xkZXIgPSAoZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICAgICAgcmV0dXJuICdwbGFjZWhvbGRlcicgaW4gaTtcclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8gSGlkZSBsYWJlbHMgYnkgZGVmYXVsdCBpZiBwbGFjZWhvbGRlcnMgYXJlIHN1cHBvcnRlZFxyXG4gICAgaWYoJC5zdXBwb3J0LnBsYWNlaG9sZGVyKSB7XHJcbiAgICAgICAgJCgnLmZvcm0tbGFiZWwnKS5lYWNoKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2pzLWhpZGUtbGFiZWwnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29kZSBmb3IgYWRkaW5nL3JlbW92aW5nIGNsYXNzZXMgaGVyZVxyXG4gICAgICAgICQoJy5mb3JtLWdyb3VwJykuZmluZCgnaW5wdXQsIHRleHRhcmVhJykub24oJ2tleXVwIGJsdXIgZm9jdXMnLCBmdW5jdGlvbihlKXtcclxuXHJcbiAgICAgICAgICAgIC8vIENhY2hlIG91ciBzZWxlY3RvcnNcclxuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcclxuICAgICAgICAgICAgICAgICRwYXJlbnQgPSAkdGhpcy5wYXJlbnQoKS5maW5kKFwibGFiZWxcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZS50eXBlID09ICdrZXl1cCcpIHtcclxuICAgICAgICAgICAgICAgIGlmKCAkdGhpcy52YWwoKSA9PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdqcy1oaWRlLWxhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2pzLWhpZGUtbGFiZWwnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChlLnR5cGUgPT0gJ2JsdXInKSB7XHJcbiAgICAgICAgICAgICAgICBpZiggJHRoaXMudmFsKCkgPT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5hZGRDbGFzcygnanMtaGlkZS1sYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnanMtaGlkZS1sYWJlbCcpLmFkZENsYXNzKCdqcy11bmhpZ2hsaWdodC1sYWJlbCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGUudHlwZSA9PSAnZm9jdXMnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiggJHRoaXMudmFsKCkgIT09ICcnICkge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2pzLXVuaGlnaGxpZ2h0LWxhYmVsJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PU1BUD09PT09PT09PT09PT09PT09PT09Ki9cclxuXHJcbmZ1bmN0aW9uIG15TWFwKClcclxue1xyXG4gICAgbXlDZW50ZXI9bmV3IGdvb2dsZS5tYXBzLkxhdExuZyg0MS44NzgxMTQsIC04Ny42Mjk3OTgpO1xyXG4gICAgdmFyIG1hcE9wdGlvbnM9IHtcclxuICAgICAgICBjZW50ZXI6bXlDZW50ZXIsXHJcbiAgICAgICAgem9vbToxMiwgc2Nyb2xsd2hlZWw6IGZhbHNlLCBkcmFnZ2FibGU6IGZhbHNlLFxyXG4gICAgICAgIG1hcFR5cGVJZDpnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxyXG4gICAgfTtcclxuICAgIHZhciBtYXA9bmV3IGdvb2dsZS5tYXBzLk1hcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdvb2dsZU1hcFwiKSxtYXBPcHRpb25zKTtcclxuXHJcbiAgICB2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICAgICAgcG9zaXRpb246IG15Q2VudGVyLFxyXG4gICAgfSk7XHJcbiAgICBtYXJrZXIuc2V0TWFwKG1hcCk7XHJcbn1cclxuXHJcbi8qPT09PT09PT09PT09PT09PT09PT09Zm9ybT09PT09PT09PSovXHJcbiQoJy50b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICQoJy5jb250YWluZXInKS5zdG9wKCkuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG59KTtcclxuXHJcbiQoJy5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgJCgnLmNvbnRhaW5lcicpLnN0b3AoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbn0pO1xuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCl7XHJcbi8qICAgIHZhciBpZCA9ICcnO1xyXG4gICAgJCgnLml0ZW0taW1hZ2UtLWV4cGVydC1zZWN0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgdmFyIHBvcHVwSWQgPSAkKHRoaXMpLmF0dHIoXCJkYXRhLWlkXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHBvcHVwSWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiLnZpZGVvLXBvcHVwICNcIiArIHBvcHVwSWQpO1xyXG4gICAgICAgICAkKFwiLnZpZGVvLXBvcHVwICNcIiArIHBvcHVwSWQpLmFkZENsYXNzKCdfdmlzaWJsZScpO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4gICAgfSk7Ki9cclxuICAgICQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8tLS0tLSBPUEVOXHJcbiAgICAgICAgJCgnW2RhdGEtcG9wdXAtb3Blbl0nKS5vbignY2xpY2snLCBmdW5jdGlvbihlKSAge1xyXG4gICAgICAgICAgICB2YXIgdGFyZ2V0ZWRfcG9wdXBfY2xhc3MgPSBqUXVlcnkodGhpcykuYXR0cignZGF0YS1wb3B1cC1vcGVuJyk7XHJcbiAgICAgICAgICAgICQoJ1tkYXRhLXBvcHVwPVwiJyArIHRhcmdldGVkX3BvcHVwX2NsYXNzICsgJ1wiXScpLmZhZGVJbigzNTApO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLy0tLS0tIENMT1NFXHJcbiAgICAgICAgJCgnW2RhdGEtcG9wdXAtY2xvc2VdJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkgIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldGVkX3BvcHVwX2NsYXNzID0galF1ZXJ5KHRoaXMpLmF0dHIoJ2RhdGEtcG9wdXAtY2xvc2UnKTtcclxuICAgICAgICAgICAgJCgnW2RhdGEtcG9wdXA9XCInICsgdGFyZ2V0ZWRfcG9wdXBfY2xhc3MgKyAnXCJdJykuZmFkZU91dCgzNTApO1xyXG5cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIG93bEV4cGVydHMgPSAkKCcub3dsLWNhcm91c2VsJyk7XHJcbiAgICBvd2xFeHBlcnRzLm93bENhcm91c2VsKHtcclxuICAgICAgICBsb29wOnRydWUsXHJcbiAgICAgICAgbWFyZ2luOjIwLFxyXG4gICAgICAgIG5hdlNwZWVkOjUwMCxcclxuICAgICAgICBuYXY6dHJ1ZSxcclxuICAgICAgICBpdGVtczo0LFxyXG4gICAgICAgIHJlc3BvbnNpdmU6IHtcclxuICAgICAgICAgICAgMDoge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IDFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgNTUwOiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtczogMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICA4MjA6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiAzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIDk5ODoge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IDRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIC8qICAgIDEyMDA6IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiA0XHJcbiAgICAgICAgICAgIH0qL1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuXHJcblxyXG59KTtcclxuXHJcblxuKGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIHZhciAkJCA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xyXG4gICAgICAgIHZhciBlbGVtZW50cyA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XHJcbiAgICAgICAgcmV0dXJuIFtdLnNsaWNlLmNhbGwoZWxlbWVudHMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBfZm5jU2xpZGVySW5pdCgkc2xpZGVyLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIHByZWZpeCA9IFwiLmZuYy1cIjtcclxuXHJcbiAgICAgICAgdmFyICRzbGlkZXIgPSAkc2xpZGVyO1xyXG4gICAgICAgIHZhciAkc2xpZGVzQ29udCA9ICRzbGlkZXIucXVlcnlTZWxlY3RvcihwcmVmaXggKyBcInNsaWRlcl9fc2xpZGVzXCIpO1xyXG4gICAgICAgIHZhciAkc2xpZGVzID0gJCQocHJlZml4ICsgXCJzbGlkZVwiLCAkc2xpZGVyKTtcclxuICAgICAgICB2YXIgJGNvbnRyb2xzID0gJCQocHJlZml4ICsgXCJuYXZfX2NvbnRyb2xcIiwgJHNsaWRlcik7XHJcbiAgICAgICAgdmFyICRjb250cm9sc0JncyA9ICQkKHByZWZpeCArIFwibmF2X19iZ1wiLCAkc2xpZGVyKTtcclxuICAgICAgICB2YXIgJHByb2dyZXNzQVMgPSAkJChwcmVmaXggKyBcIm5hdl9fY29udHJvbC1wcm9ncmVzc1wiLCAkc2xpZGVyKTtcclxuXHJcbiAgICAgICAgdmFyIG51bU9mU2xpZGVzID0gJHNsaWRlcy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGN1clNsaWRlID0gMTtcclxuICAgICAgICB2YXIgc2xpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBzbGlkaW5nQVQgPSArcGFyc2VGbG9hdChnZXRDb21wdXRlZFN0eWxlKCRzbGlkZXNDb250KVtcInRyYW5zaXRpb24tZHVyYXRpb25cIl0pICogMTAwMDtcclxuICAgICAgICB2YXIgc2xpZGluZ0RlbGF5ID0gK3BhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZSgkc2xpZGVzQ29udClbXCJ0cmFuc2l0aW9uLWRlbGF5XCJdKSAqIDEwMDA7XHJcblxyXG4gICAgICAgIHZhciBhdXRvU2xpZGluZ0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBhdXRvU2xpZGluZ1RPO1xyXG4gICAgICAgIHZhciBhdXRvU2xpZGluZ0RlbGF5ID0gNTAwMDsgLy8gZGVmYXVsdCBhdXRvc2xpZGluZyBkZWxheSB2YWx1ZVxyXG4gICAgICAgIHZhciBhdXRvU2xpZGluZ0Jsb2NrZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyICRhY3RpdmVTbGlkZTtcclxuICAgICAgICB2YXIgJGFjdGl2ZUNvbnRyb2xzQmc7XHJcbiAgICAgICAgdmFyICRwcmV2Q29udHJvbDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SURzKCkge1xyXG4gICAgICAgICAgICAkc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oJHNsaWRlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgJHNsaWRlLmNsYXNzTGlzdC5hZGQoXCJmbmMtc2xpZGUtXCIgKyAoaW5kZXggKyAxKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJGNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24oJGNvbnRyb2wsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAkY29udHJvbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlXCIsIGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAkY29udHJvbC5jbGFzc0xpc3QuYWRkKFwiZm5jLW5hdl9fY29udHJvbC1cIiArIChpbmRleCArIDEpKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAkY29udHJvbHNCZ3MuZm9yRWFjaChmdW5jdGlvbigkYmcsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAkYmcuY2xhc3NMaXN0LmFkZChcImZuYy1uYXZfX2JnLVwiICsgKGluZGV4ICsgMSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZXRJRHMoKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJTbGlkaW5nSGFuZGxlcigpIHtcclxuICAgICAgICAgICAgJHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLm0tLXByZXZpb3VzLXNsaWRlXCIpLmNsYXNzTGlzdC5yZW1vdmUoXCJtLS1hY3RpdmUtc2xpZGVcIiwgXCJtLS1wcmV2aW91cy1zbGlkZVwiKTtcclxuICAgICAgICAgICAgJHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLm0tLXByZXZpb3VzLW5hdi1iZ1wiKS5jbGFzc0xpc3QucmVtb3ZlKFwibS0tYWN0aXZlLW5hdi1iZ1wiLCBcIm0tLXByZXZpb3VzLW5hdi1iZ1wiKTtcclxuXHJcbiAgICAgICAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QucmVtb3ZlKFwibS0tYmVmb3JlLXNsaWRpbmdcIik7XHJcbiAgICAgICAgICAgICRhY3RpdmVDb250cm9sc0JnLmNsYXNzTGlzdC5yZW1vdmUoXCJtLS1uYXYtYmctYmVmb3JlXCIpO1xyXG4gICAgICAgICAgICAkcHJldkNvbnRyb2wuY2xhc3NMaXN0LnJlbW92ZShcIm0tLXByZXYtY29udHJvbFwiKTtcclxuICAgICAgICAgICAgJHByZXZDb250cm9sLmNsYXNzTGlzdC5hZGQoXCJtLS1yZXNldC1wcm9ncmVzc1wiKTtcclxuICAgICAgICAgICAgdmFyIHRyaWdnZXJMYXlvdXQgPSAkcHJldkNvbnRyb2wub2Zmc2V0VG9wO1xyXG4gICAgICAgICAgICAkcHJldkNvbnRyb2wuY2xhc3NMaXN0LnJlbW92ZShcIm0tLXJlc2V0LXByb2dyZXNzXCIpO1xyXG5cclxuICAgICAgICAgICAgc2xpZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgbGF5b3V0VHJpZ2dlciA9ICRzbGlkZXIub2Zmc2V0VG9wO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF1dG9TbGlkaW5nQWN0aXZlICYmICFhdXRvU2xpZGluZ0Jsb2NrZWQpIHtcclxuICAgICAgICAgICAgICAgIHNldEF1dG9zbGlkaW5nVE8oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHBlcmZvcm1TbGlkaW5nKHNsaWRlSUQpIHtcclxuICAgICAgICAgICAgaWYgKHNsaWRpbmcpIHJldHVybjtcclxuICAgICAgICAgICAgc2xpZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoYXV0b1NsaWRpbmdUTyk7XHJcbiAgICAgICAgICAgIGN1clNsaWRlID0gc2xpZGVJRDtcclxuXHJcbiAgICAgICAgICAgICRwcmV2Q29udHJvbCA9ICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5tLS1hY3RpdmUtY29udHJvbFwiKTtcclxuICAgICAgICAgICAgJHByZXZDb250cm9sLmNsYXNzTGlzdC5yZW1vdmUoXCJtLS1hY3RpdmUtY29udHJvbFwiKTtcclxuICAgICAgICAgICAgJHByZXZDb250cm9sLmNsYXNzTGlzdC5hZGQoXCJtLS1wcmV2LWNvbnRyb2xcIik7XHJcbiAgICAgICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihwcmVmaXggKyBcIm5hdl9fY29udHJvbC1cIiArIHNsaWRlSUQpLmNsYXNzTGlzdC5hZGQoXCJtLS1hY3RpdmUtY29udHJvbFwiKTtcclxuXHJcbiAgICAgICAgICAgICRhY3RpdmVTbGlkZSA9ICRzbGlkZXIucXVlcnlTZWxlY3RvcihwcmVmaXggKyBcInNsaWRlLVwiICsgc2xpZGVJRCk7XHJcbiAgICAgICAgICAgICRhY3RpdmVDb250cm9sc0JnID0gJHNsaWRlci5xdWVyeVNlbGVjdG9yKHByZWZpeCArIFwibmF2X19iZy1cIiArIHNsaWRlSUQpO1xyXG5cclxuICAgICAgICAgICAgJHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLm0tLWFjdGl2ZS1zbGlkZVwiKS5jbGFzc0xpc3QuYWRkKFwibS0tcHJldmlvdXMtc2xpZGVcIik7XHJcbiAgICAgICAgICAgICRzbGlkZXIucXVlcnlTZWxlY3RvcihcIi5tLS1hY3RpdmUtbmF2LWJnXCIpLmNsYXNzTGlzdC5hZGQoXCJtLS1wcmV2aW91cy1uYXYtYmdcIik7XHJcblxyXG4gICAgICAgICAgICAkYWN0aXZlU2xpZGUuY2xhc3NMaXN0LmFkZChcIm0tLWJlZm9yZS1zbGlkaW5nXCIpO1xyXG4gICAgICAgICAgICAkYWN0aXZlQ29udHJvbHNCZy5jbGFzc0xpc3QuYWRkKFwibS0tbmF2LWJnLWJlZm9yZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYXlvdXRUcmlnZ2VyID0gJGFjdGl2ZVNsaWRlLm9mZnNldFRvcDtcclxuXHJcbiAgICAgICAgICAgICRhY3RpdmVTbGlkZS5jbGFzc0xpc3QuYWRkKFwibS0tYWN0aXZlLXNsaWRlXCIpO1xyXG4gICAgICAgICAgICAkYWN0aXZlQ29udHJvbHNCZy5jbGFzc0xpc3QuYWRkKFwibS0tYWN0aXZlLW5hdi1iZ1wiKTtcclxuXHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoYWZ0ZXJTbGlkaW5nSGFuZGxlciwgc2xpZGluZ0FUICsgc2xpZGluZ0RlbGF5KTtcclxuICAgICAgICB9O1xyXG5cclxuXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xDbGlja0hhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgIGlmIChzbGlkaW5nKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucyhcIm0tLWFjdGl2ZS1jb250cm9sXCIpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmJsb2NrQVNhZnRlckNsaWNrKSB7XHJcbiAgICAgICAgICAgICAgICBhdXRvU2xpZGluZ0Jsb2NrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHNsaWRlci5jbGFzc0xpc3QuYWRkKFwibS0tYXV0b3NsaWRpbmctYmxvY2tlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHNsaWRlSUQgPSArdGhpcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXNsaWRlXCIpO1xyXG5cclxuICAgICAgICAgICAgcGVyZm9ybVNsaWRpbmcoc2xpZGVJRCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJGNvbnRyb2xzLmZvckVhY2goZnVuY3Rpb24oJGNvbnRyb2wpIHtcclxuICAgICAgICAgICAgJGNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNvbnRyb2xDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXRBdXRvc2xpZGluZ1RPKCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGF1dG9TbGlkaW5nVE8pO1xyXG4gICAgICAgICAgICB2YXIgZGVsYXkgPSArb3B0aW9ucy5hdXRvU2xpZGluZ0RlbGF5IHx8IGF1dG9TbGlkaW5nRGVsYXk7XHJcbiAgICAgICAgICAgIGN1clNsaWRlKys7XHJcbiAgICAgICAgICAgIGlmIChjdXJTbGlkZSA+IG51bU9mU2xpZGVzKSBjdXJTbGlkZSA9IDE7XHJcblxyXG4gICAgICAgICAgICBhdXRvU2xpZGluZ1RPID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1TbGlkaW5nKGN1clNsaWRlKTtcclxuICAgICAgICAgICAgfSwgZGVsYXkpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9TbGlkaW5nIHx8ICtvcHRpb25zLmF1dG9TbGlkaW5nRGVsYXkgPiAwKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF1dG9TbGlkaW5nID09PSBmYWxzZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgYXV0b1NsaWRpbmdBY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZXRBdXRvc2xpZGluZ1RPKCk7XHJcblxyXG4gICAgICAgICAgICAkc2xpZGVyLmNsYXNzTGlzdC5hZGQoXCJtLS13aXRoLWF1dG9zbGlkaW5nXCIpO1xyXG4gICAgICAgICAgICB2YXIgdHJpZ2dlckxheW91dCA9ICRzbGlkZXIub2Zmc2V0VG9wO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRlbGF5ID0gK29wdGlvbnMuYXV0b1NsaWRpbmdEZWxheSB8fCBhdXRvU2xpZGluZ0RlbGF5O1xyXG4gICAgICAgICAgICBkZWxheSArPSBzbGlkaW5nRGVsYXkgKyBzbGlkaW5nQVQ7XHJcblxyXG4gICAgICAgICAgICAkcHJvZ3Jlc3NBUy5mb3JFYWNoKGZ1bmN0aW9uKCRwcm9ncmVzcykge1xyXG4gICAgICAgICAgICAgICAgJHByb2dyZXNzLnN0eWxlLnRyYW5zaXRpb24gPSBcInRyYW5zZm9ybSBcIiArIChkZWxheSAvIDEwMDApICsgXCJzXCI7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJHNsaWRlci5xdWVyeVNlbGVjdG9yKFwiLmZuYy1uYXZfX2NvbnRyb2w6Zmlyc3QtY2hpbGRcIikuY2xhc3NMaXN0LmFkZChcIm0tLWFjdGl2ZS1jb250cm9sXCIpO1xyXG5cclxuICAgIH07XHJcblxyXG4gICAgdmFyIGZuY1NsaWRlciA9IGZ1bmN0aW9uKHNsaWRlclNlbGVjdG9yLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyICRzbGlkZXJzID0gJCQoc2xpZGVyU2VsZWN0b3IpO1xyXG5cclxuICAgICAgICAkc2xpZGVycy5mb3JFYWNoKGZ1bmN0aW9uKCRzbGlkZXIpIHtcclxuICAgICAgICAgICAgX2ZuY1NsaWRlckluaXQoJHNsaWRlciwgb3B0aW9ucyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5mbmNTbGlkZXIgPSBmbmNTbGlkZXI7XHJcbn0oKSk7XHJcblxyXG4vKiBub3QgcGFydCBvZiB0aGUgc2xpZGVyIHNjcmlwdHMgKi9cclxuXHJcbi8qIFNsaWRlciBpbml0aWFsaXphdGlvblxyXG5vcHRpb25zOlxyXG5hdXRvU2xpZGluZyAtIGJvb2xlYW5cclxuYXV0b1NsaWRpbmdEZWxheSAtIGRlbGF5IGluIG1zLiBJZiBhdWRvU2xpZGluZyBpcyBvbiBhbmQgbm8gdmFsdWUgcHJvdmlkZWQsIGRlZmF1bHQgdmFsdWUgaXMgNTAwMFxyXG5ibG9ja0FTYWZ0ZXJDbGljayAtIGJvb2xlYW4uIElmIHVzZXIgY2xpY2tlZCBhbnkgc2xpZGluZyBjb250cm9sLCBhdXRvc2xpZGluZyB3b24ndCBzdGFydCBhZ2FpblxyXG4qL1xyXG5mbmNTbGlkZXIoXCIuZXhhbXBsZS1zbGlkZXJcIiwge2F1dG9TbGlkaW5nRGVsYXk6IDQwMDB9KTtcclxuXHJcbnZhciAkZGVtb0NvbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRlbW8tY29udFwiKTtcclxuXHJcbltdLnNsaWNlLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mbmMtc2xpZGVfX2FjdGlvbi1idG5cIikpLmZvckVhY2goZnVuY3Rpb24oJGJ0bikge1xyXG4gICAgJGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJGRlbW9Db250LmNsYXNzTGlzdC50b2dnbGUoXCJjcmVkaXRzLWFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZGVtby1jb250X19jcmVkaXRzLWNsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuICAgICRkZW1vQ29udC5jbGFzc0xpc3QucmVtb3ZlKFwiY3JlZGl0cy1hY3RpdmVcIik7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5qcy1hY3RpdmF0ZS1nbG9iYWwtYmxlbmRpbmdcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5leGFtcGxlLXNsaWRlclwiKS5jbGFzc0xpc3QudG9nZ2xlKFwibS0tZ2xvYmFsLWJsZW5kaW5nLWFjdGl2ZVwiKTtcclxufSk7XG5cclxuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuICAgIC8vXG4gICAgKGZ1bmN0aW9uKGUpe1xuICAgICAgICBlLmZuLmNvdW50ZG93biA9IGZ1bmN0aW9uICh0LCBuKXtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGkoKXtcbiAgICAgICAgICAgICAgICBldmVudERhdGUgPSBEYXRlLnBhcnNlKHIuZGF0ZSkgLyAxZTM7XG4gICAgICAgICAgICAgICAgY3VycmVudERhdGUgPSBNYXRoLmZsb29yKGUubm93KCkgLyAxZTMpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYoZXZlbnREYXRlIDw9IGN1cnJlbnREYXRlKXtcbiAgICAgICAgICAgICAgICAgICAgbi5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBldmVudERhdGUgLSBjdXJyZW50RGF0ZTtcbiAgICAgICAgICAgICAgICBkYXlzID0gTWF0aC5mbG9vcihzZWNvbmRzIC8gODY0MDApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgLT0gZGF5cyAqIDYwICogNjAgKiAyNDtcbiAgICAgICAgICAgICAgICBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgLT0gaG91cnMgKiA2MCAqIDYwO1xuICAgICAgICAgICAgICAgIG1pbnV0ZXMgPSBNYXRoLmZsb29yKHNlY29uZHMgLyA2MCk7XG4gICAgICAgICAgICAgICAgc2Vjb25kcyAtPSBtaW51dGVzICogNjA7XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBkYXlzID09IDEgPyB0aGlzRWwuZmluZChcIi50aW1lUmVmRGF5c1wiKS50ZXh0KFwi0JTQvdC10LlcIikgOiB0aGlzRWwuZmluZChcIi50aW1lUmVmRGF5c1wiKS50ZXh0KFwi0JTQvdC10LlcIik7XG4gICAgICAgICAgICAgICAgaG91cnMgPT0gMSA/IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZIb3Vyc1wiKS50ZXh0KFwi0KfQsNGB0L7QslwiKSA6IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZIb3Vyc1wiKS50ZXh0KFwi0KfQsNGB0L7QslwiKTtcbiAgICAgICAgICAgICAgICBtaW51dGVzID09IDEgPyB0aGlzRWwuZmluZChcIi50aW1lUmVmTWludXRlc1wiKS50ZXh0KFwi0JzQuNC90YPRglwiKSA6IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZNaW51dGVzXCIpLnRleHQoXCLQnNC40L3Rg9GCXCIpO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPT0gMSA/IHRoaXNFbC5maW5kKFwiLnRpbWVSZWZTZWNvbmRzXCIpLnRleHQoXCLQodC10LrRg9C90LRcIikgOiB0aGlzRWwuZmluZChcIi50aW1lUmVmU2Vjb25kc1wiKS50ZXh0KFwi0KHQtdC60YPQvdC0XCIpO1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgaWYocltcImZvcm1hdFwiXSA9PSBcIm9uXCIpe1xuICAgICAgICAgICAgICAgICAgICBkYXlzID0gU3RyaW5nKGRheXMpLmxlbmd0aCA+PSAyID8gZGF5cyA6IFwiMFwiICsgZGF5cztcbiAgICAgICAgICAgICAgICAgICAgaG91cnMgPSBTdHJpbmcoaG91cnMpLmxlbmd0aCA+PSAyID8gaG91cnMgOiBcIjBcIiArIGhvdXJzO1xuICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gU3RyaW5nKG1pbnV0ZXMpLmxlbmd0aCA+PSAyID8gbWludXRlcyA6IFwiMFwiICsgbWludXRlcztcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IFN0cmluZyhzZWNvbmRzKS5sZW5ndGggPj0gMiA/IHNlY29uZHMgOiBcIjBcIiArIHNlY29uZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICBpZighaXNOYU4oZXZlbnREYXRlKSl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNFbC5maW5kKFwiLmRheXNcIikudGV4dChkYXlzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0VsLmZpbmQoXCIuaG91cnNcIikudGV4dChob3Vycyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNFbC5maW5kKFwiLm1pbnV0ZXNcIikudGV4dChtaW51dGVzKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpc0VsLmZpbmQoXCIuc2Vjb25kc1wiKS50ZXh0KHNlY29uZHMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiSW52YWxpZCBkYXRlLiBFeGFtcGxlOiAyNyBNYXJjaCAyMDE1IDE5OjAwOjAwXCI7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIHZhciB0aGlzRWwgPSBlKHRoaXMpO1xuICAgICAgICAgICAgdmFyIHIgPSB7XG4gICAgICAgICAgICAgICAgZGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IG51bGxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgdCAmJiBlLmV4dGVuZChyLCB0KTtcbiAgICAgICAgICAgIGkoKTtcbiAgICAgICAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoaSwgMWUzKVxuICAgICAgICB9XG4gICAgfSkoalF1ZXJ5KTtcbiAgICAvL1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgICAgIGZ1bmN0aW9uIGUoKXtcbiAgICAgICAgICAgIHZhciBlID0gbmV3IERhdGU7XG4gICAgICAgICAgICBlLnNldERhdGUoZS5nZXREYXRlKCkgKyA2MCk7XG4gICAgICAgICAgICBkZCA9IGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgbW0gPSBlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICAgICAgeSA9IGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIGZ1dHVyZUZvcm1hdHRlZERhdGUgPSBtbSArIFwiL1wiICsgZGQgKyBcIi9cIiArIHk7XG4gICAgICAgICAgICByZXR1cm4gZnV0dXJlRm9ybWF0dGVkRGF0ZVxuICAgICAgICB9XG4gICAgICAgIC8vXG4gICAgICAgICQoXCIjY291bnRkb3duXCIpLmNvdW50ZG93bih7XG4gICAgICAgICAgICBkYXRlOiBcIjI4IEZlYnJ1YXJ5IDIwMTggMTk6MDA6MDBcIiwgLy8gY2hhbmdlIGRhdGUvdGltZSBoZXJlIC0gZG8gbm90IGNoYW5nZSB0aGUgZm9ybWF0IVxuICAgICAgICAgICAgZm9ybWF0OiBcIm9uXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcblxyXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbiAoKSB7XHJcblxyXG5cclxufSk7XHJcblxyXG4iXX0=
